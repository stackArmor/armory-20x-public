import{b as N,R as H,f as gs,t as e,y as ps,B as fs,v as js}from"./index-cMNJPoS_.js";import{S as Se,C as K,u as vs,A as bs,H as Ve}from"./HelpIcon-_nQLatLy.js";import{J as Re,aj as ys,ak as ws,l as q,m as O,u as Cs,aa as ks,B as _,al as Is,H as Ss,x as le,y as ce,U as fe,z as je,am as He,E as ie,F as Le,A as $e,G as Ne,K as zs,L as Ps,j as Ke,q as Rs,an as Ls,ao as qe,ap as $s,Q as R,N as _e,T as C,_ as Y,S as Ns,Y as Ze,O as Te,P as F,a2 as _s,V as pe,a3 as ne,Z as ze,ad as Ts,R as Qe,W as As,X as Ms,a6 as Ce,a9 as Ds,$ as te,a0 as Ue}from"./middleware-B3r9d54z.js";import{I as Es,a as Bs,b as Fs,l as me,j as Xe,f as Vs,m as Us,g as xe,h as Os,C as oe,k as Ws,A as Oe,e as Gs}from"./proxy-O3xRPsxo.js";import{I as Je,T as Pe,a as Ye}from"./IconSearch-DKevmGIS.js";import{C as es,T as U,I as Hs,S as ss,a as ke}from"./IconFilter-DtHJncli.js";function Ks(s,r,t={leading:!1}){const[o,i]=N.useState(s),a=N.useRef(!1),c=N.useRef(null),l=N.useRef(!1),j=()=>window.clearTimeout(c.current);return N.useEffect(()=>{a.current&&(!l.current&&t.leading?(l.current=!0,i(s)):(j(),c.current=window.setTimeout(()=>{l.current=!1,i(s)},r)))},[s,t.leading,r]),N.useEffect(()=>(a.current=!0,j),[]),[o,j]}function X(s,r){const t=r-s+1;return Array.from({length:t},(o,i)=>i+s)}const ge="dots";function qs({total:s,siblings:r=1,boundaries:t=1,page:o,initialPage:i=1,onChange:a}){const c=Math.max(Math.trunc(s),0),[l,j]=Re({value:o,onChange:a,defaultValue:i,finalValue:i}),g=f=>{f<=0?j(1):f>c?j(c):j(f)},u=()=>g(l+1),v=()=>g(l-1),y=()=>g(1),p=()=>g(c);return{range:N.useMemo(()=>{if(r*2+3+t*2>=c)return X(1,c);const L=Math.max(l-r,t),k=Math.min(l+r,c-t),S=L>t+2,b=k<c-(t+1);if(!S&&b){const M=r*2+t+2;return[...X(1,M),ge,...X(c-(t-1),c)]}if(S&&!b){const M=t+1+2*r;return[...X(1,t),ge,...X(c-M,c)]}return[...X(1,t),ge,...X(L,k),ge,...X(c-t+1,c)]},[c,r,l]),active:l,setPage:g,next:u,previous:v,first:y,last:p}}function Zs(s){if(!s||typeof s=="string")return 0;const r=s/36;return Math.round((4+15*r**.25+r/5)*10)}function Ie(s){return s!=null&&s.current?s.current.scrollHeight:"auto"}const re=typeof window<"u"&&window.requestAnimationFrame,We=0,Qs=s=>({height:0,overflow:"hidden",...s?{}:{display:"none"}});function Xs({transitionDuration:s,transitionTimingFunction:r="ease",onTransitionEnd:t=()=>{},opened:o,keepMounted:i=!1}){const a=N.useRef(null),c=Qs(i),[l,j]=N.useState(o?{}:c),g=h=>{gs.flushSync(()=>j(h))},u=h=>{g(f=>({...f,...h}))};function v(h){const f=s||Zs(h);return{transition:`height ${f}ms ${r}, opacity ${f}ms ${r}`}}ys(()=>{typeof re=="function"&&re(o?()=>{u({willChange:"height",display:"block",overflow:"hidden"}),re(()=>{const h=Ie(a);u({...v(h),height:h})})}:()=>{const h=Ie(a);u({...v(h),willChange:"height",height:h}),re(()=>u({height:We,overflow:"hidden"}))})},[o]);const y=h=>{if(!(h.target!==a.current||h.propertyName!=="height"))if(o){const f=Ie(a);f===l.height?g({}):u({height:f}),t()}else l.height===We&&(g(c),t())};function p({style:h={},refKey:f="ref",...L}={}){const k=L[f],S={"aria-hidden":!o,...L,[f]:ws(a,k),onTransitionEnd:y,style:{boxSizing:"border-box",...h,...l}};return H.version.startsWith("18")?o||(S.inert=""):S.inert=!o,S}return p}const Js={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},ts=q((s,r)=>{const{children:t,in:o,transitionDuration:i,transitionTimingFunction:a,style:c,onTransitionEnd:l,animateOpacity:j,keepMounted:g,...u}=O("Collapse",Js,s),v=Cs(),y=ks(),h=(v.respectReducedMotion?y:!1)?0:i,f=Xs({opened:o,transitionDuration:h,transitionTimingFunction:a,onTransitionEnd:l,keepMounted:g});return h===0?o?e.jsx(_,{...u,children:t}):null:e.jsx(_,{...f({style:{opacity:o||!j?1:0,transition:j?`opacity ${h}ms ${a}`:"none",...Is(c,v)},ref:r,...u}),children:t})});ts.displayName="@mantine/core/Collapse";const rs=N.createContext(null),Ys=rs.Provider,ns=()=>N.useContext(rs),[et,st]=Ss();var os={card:"m_26775b0a"};const tt={withBorder:!0},rt=ce((s,{radius:r})=>({card:{"--card-radius":je(r)}})),Ae=q((s,r)=>{const t=O("CheckboxCard",tt,s),{classNames:o,className:i,style:a,styles:c,unstyled:l,vars:j,checked:g,mod:u,withBorder:v,value:y,onClick:p,defaultChecked:h,onChange:f,attributes:L,...k}=t,S=le({name:"CheckboxCard",classes:os,props:t,className:i,style:a,classNames:o,styles:c,unstyled:l,attributes:L,vars:j,varsResolver:rt,rootSelector:"card"}),b=ns(),M=typeof g=="boolean"?g:b?b.value.includes(y||""):void 0,[z,D]=Re({value:M,defaultValue:h,finalValue:!1,onChange:f});return e.jsx(et,{value:{checked:z},children:e.jsx(fe,{ref:r,mod:[{"with-border":v,checked:z},u],...S("card"),...k,role:"checkbox","aria-checked":z,onClick:E=>{p==null||p(E),b==null||b.onChange(y||""),D(!z)}})})});Ae.displayName="@mantine/core/CheckboxCard";Ae.classes=os;const Me=q((s,r)=>{const{value:t,defaultValue:o,onChange:i,size:a,wrapperProps:c,children:l,readOnly:j,...g}=O("CheckboxGroup",null,s),[u,v]=Re({value:t,defaultValue:o,finalValue:[],onChange:i}),y=p=>{const h=typeof p=="string"?p:p.currentTarget.value;!j&&v(u.includes(h)?u.filter(f=>f!==h):[...u,h])};return e.jsx(Ys,{value:{value:u,onChange:y,size:a},children:e.jsx(Je.Wrapper,{size:a,ref:r,...c,...g,labelElement:"div",__staticSelector:"CheckboxGroup",children:e.jsx(Es,{role:"group",children:l})})})});Me.classes=Je.Wrapper.classes;Me.displayName="@mantine/core/CheckboxGroup";var as={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const nt={icon:es},ot=ce((s,{radius:r,color:t,size:o,iconColor:i,variant:a,autoContrast:c})=>{const l=He({color:t||s.primaryColor,theme:s}),j=l.isThemeColor&&l.shade===void 0?`var(--mantine-color-${l.color}-outline)`:l.color;return{indicator:{"--checkbox-size":$e(o,"checkbox-size"),"--checkbox-radius":r===void 0?void 0:je(r),"--checkbox-color":a==="outline"?j:ie(t,s),"--checkbox-icon-color":i?ie(i,s):Ne(c,s)?Le({color:t,theme:s,autoContrast:c}):void 0}}}),De=q((s,r)=>{const t=O("CheckboxIndicator",nt,s),{classNames:o,className:i,style:a,styles:c,unstyled:l,vars:j,icon:g,indeterminate:u,radius:v,color:y,iconColor:p,autoContrast:h,checked:f,mod:L,variant:k,disabled:S,attributes:b,...M}=t,z=le({name:"CheckboxIndicator",classes:as,props:t,className:i,style:a,classNames:o,styles:c,unstyled:l,attributes:b,vars:j,varsResolver:ot,rootSelector:"indicator"}),D=st(),E=typeof f=="boolean"||typeof u=="boolean"?f||u:(D==null?void 0:D.checked)||!1;return e.jsx(_,{ref:r,...z("indicator",{variant:k}),variant:k,mod:[{checked:E,disabled:S},L],...M,children:e.jsx(g,{indeterminate:u,...z("icon")})})});De.displayName="@mantine/core/CheckboxIndicator";De.classes=as;var is={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const at={labelPosition:"right",icon:es},it=ce((s,{radius:r,color:t,size:o,iconColor:i,variant:a,autoContrast:c})=>{const l=He({color:t||s.primaryColor,theme:s}),j=l.isThemeColor&&l.shade===void 0?`var(--mantine-color-${l.color}-outline)`:l.color;return{root:{"--checkbox-size":$e(o,"checkbox-size"),"--checkbox-radius":r===void 0?void 0:je(r),"--checkbox-color":a==="outline"?j:ie(t,s),"--checkbox-icon-color":i?ie(i,s):Ne(c,s)?Le({color:t,theme:s,autoContrast:c}):void 0}}}),ee=q((s,r)=>{const t=O("Checkbox",at,s),{classNames:o,className:i,style:a,styles:c,unstyled:l,vars:j,color:g,label:u,id:v,size:y,radius:p,wrapperProps:h,checked:f,labelPosition:L,description:k,error:S,disabled:b,variant:M,indeterminate:z,icon:D,rootRef:E,iconColor:V,onChange:B,autoContrast:Q,mod:W,attributes:n,...m}=t,d=ns(),$=y||(d==null?void 0:d.size),T=le({name:"Checkbox",props:t,classes:is,className:i,style:a,classNames:o,styles:c,unstyled:l,attributes:n,vars:j,varsResolver:it}),{styleProps:x,rest:I}=zs(m),w=Ps(v),A=d?{checked:d.value.includes(I.value),onChange:se=>{d.onChange(se),B==null||B(se)}}:{},P=N.useRef(null),G=r||P;return N.useEffect(()=>{G&&"current"in G&&G.current&&(G.current.indeterminate=z||!1)},[z,G]),e.jsx(Bs,{...T("root"),__staticSelector:"Checkbox",__stylesApiProps:t,id:w,size:$,labelPosition:L,label:u,description:k,error:S,disabled:b,classNames:o,styles:c,unstyled:l,"data-checked":A.checked||f||void 0,variant:M,ref:E,mod:W,...x,...h,children:e.jsxs(_,{...T("inner"),mod:{"data-label-position":L},children:[e.jsx(_,{component:"input",id:w,ref:G,checked:f,disabled:b,mod:{error:!!S,indeterminate:z},...T("input",{focusable:!0,variant:M}),onChange:B,...I,...A,type:"checkbox"}),e.jsx(D,{indeterminate:z,...T("icon")})]})})});ee.classes={...is,...Fs};ee.displayName="@mantine/core/Checkbox";ee.Group=Me;ee.Indicator=De;ee.Card=Ae;const[lt,ct]=Ke("List component was not found in tree");var Ee={root:"m_abbac491",item:"m_abb6bec2",itemWrapper:"m_75cd9f71",itemIcon:"m_60f83e5b"};const Be=q((s,r)=>{const t=O("ListItem",null,s),{classNames:o,className:i,style:a,styles:c,vars:l,icon:j,children:g,mod:u,...v}=t,y=ct(),p=j||y.icon,h={classNames:o,styles:c};return e.jsx(_,{...y.getStyles("item",{...h,className:i,style:a}),component:"li",mod:[{"with-icon":!!p,centered:y.center},u],ref:r,...v,children:e.jsxs("div",{...y.getStyles("itemWrapper",h),children:[p&&e.jsx("span",{...y.getStyles("itemIcon",h),children:p}),e.jsx("span",{...y.getStyles("itemLabel",h),children:g})]})})});Be.classes=Ee;Be.displayName="@mantine/core/ListItem";const dt={type:"unordered"},ht=ce((s,{size:r,spacing:t})=>({root:{"--list-fz":qe(r),"--list-lh":Ls(r),"--list-spacing":Rs(t)}})),J=q((s,r)=>{const t=O("List",dt,s),{classNames:o,className:i,style:a,styles:c,unstyled:l,vars:j,children:g,type:u,withPadding:v,icon:y,spacing:p,center:h,listStyleType:f,mod:L,attributes:k,...S}=t,b=le({name:"List",classes:Ee,props:t,className:i,style:a,classNames:o,styles:c,unstyled:l,attributes:k,vars:j,varsResolver:ht});return e.jsx(lt,{value:{center:h,icon:y,getStyles:b},children:e.jsx(_,{...b("root",{style:{listStyleType:f}}),component:u==="unordered"?"ul":"ol",mod:[{"with-padding":v},L],ref:r,...S,children:g})})});J.classes=Ee;J.displayName="@mantine/core/List";J.Item=Be;const[ut,ve]=Ke("Pagination.Root component was not found in tree");var de={root:"m_4addd315",control:"m_326d024a",dots:"m_4ad7767d"};const mt={withPadding:!0},he=q((s,r)=>{const t=O("PaginationControl",mt,s),{classNames:o,className:i,style:a,styles:c,vars:l,active:j,disabled:g,withPadding:u,mod:v,...y}=t,p=ve(),h=g||p.disabled;return e.jsx(fe,{ref:r,disabled:h,mod:[{active:j,disabled:h,"with-padding":u},v],...p.getStyles("control",{className:i,style:a,classNames:o,styles:c,active:!h}),...y})});he.classes=de;he.displayName="@mantine/core/PaginationControl";function ue({style:s,children:r,path:t,...o}){return e.jsx("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)",...s},...o,children:e.jsx("path",{d:t,fill:"currentColor"})})}const xt=s=>e.jsx(ue,{...s,path:"M8.781 8l-3.3-3.3.943-.943L10.667 8l-4.243 4.243-.943-.943 3.3-3.3z"}),gt=s=>e.jsx(ue,{...s,path:"M7.219 8l3.3 3.3-.943.943L5.333 8l4.243-4.243.943.943-3.3 3.3z"}),pt=s=>e.jsx(ue,{...s,path:"M6.85355 3.85355C7.04882 3.65829 7.04882 3.34171 6.85355 3.14645C6.65829 2.95118 6.34171 2.95118 6.14645 3.14645L2.14645 7.14645C1.95118 7.34171 1.95118 7.65829 2.14645 7.85355L6.14645 11.8536C6.34171 12.0488 6.65829 12.0488 6.85355 11.8536C7.04882 11.6583 7.04882 11.3417 6.85355 11.1464L3.20711 7.5L6.85355 3.85355ZM12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8.14645 7.14645C7.95118 7.34171 7.95118 7.65829 8.14645 7.85355L12.1464 11.8536C12.3417 12.0488 12.6583 12.0488 12.8536 11.8536C13.0488 11.6583 13.0488 11.3417 12.8536 11.1464L9.20711 7.5L12.8536 3.85355Z"}),ft=s=>e.jsx(ue,{...s,path:"M2.14645 11.1464C1.95118 11.3417 1.95118 11.6583 2.14645 11.8536C2.34171 12.0488 2.65829 12.0488 2.85355 11.8536L6.85355 7.85355C7.04882 7.65829 7.04882 7.34171 6.85355 7.14645L2.85355 3.14645C2.65829 2.95118 2.34171 2.95118 2.14645 3.14645C1.95118 3.34171 1.95118 3.65829 2.14645 3.85355L5.79289 7.5L2.14645 11.1464ZM8.14645 11.1464C7.95118 11.3417 7.95118 11.6583 8.14645 11.8536C8.34171 12.0488 8.65829 12.0488 8.85355 11.8536L12.8536 7.85355C13.0488 7.65829 13.0488 7.34171 12.8536 7.14645L8.85355 3.14645C8.65829 2.95118 8.34171 2.95118 8.14645 3.14645C7.95118 3.34171 7.95118 3.65829 8.14645 3.85355L11.7929 7.5L8.14645 11.1464Z"}),jt=s=>e.jsx(ue,{...s,path:"M2 8c0-.733.6-1.333 1.333-1.333.734 0 1.334.6 1.334 1.333s-.6 1.333-1.334 1.333C2.6 9.333 2 8.733 2 8zm9.333 0c0-.733.6-1.333 1.334-1.333C13.4 6.667 14 7.267 14 8s-.6 1.333-1.333 1.333c-.734 0-1.334-.6-1.334-1.333zM6.667 8c0-.733.6-1.333 1.333-1.333s1.333.6 1.333 1.333S8.733 9.333 8 9.333 6.667 8.733 6.667 8z"}),vt={icon:jt},be=q((s,r)=>{const t=O("PaginationDots",vt,s),{classNames:o,className:i,style:a,styles:c,vars:l,icon:j,...g}=t,u=ve();return e.jsx(_,{ref:r,...u.getStyles("dots",{className:i,style:a,styles:c,classNames:o}),...g,children:e.jsx(j,{style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});be.classes=de;be.displayName="@mantine/core/PaginationDots";function ye({icon:s,name:r,action:t,type:o}){const i={icon:s},a=N.forwardRef((c,l)=>{const{icon:j,...g}=O(r,i,c),u=ve(),v=o==="next"?u.active===u.total:u.active===1;return e.jsx(he,{disabled:u.disabled||v,ref:l,onClick:u[t],withPadding:!1,...g,children:e.jsx(j,{className:"mantine-rotate-rtl",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});return a.displayName=`@mantine/core/${r}`,$s(a)}const ls=ye({icon:xt,name:"PaginationNext",action:"onNext",type:"next"}),cs=ye({icon:gt,name:"PaginationPrevious",action:"onPrevious",type:"previous"}),ds=ye({icon:pt,name:"PaginationFirst",action:"onFirst",type:"previous"}),hs=ye({icon:ft,name:"PaginationLast",action:"onLast",type:"next"});function Fe({dotsIcon:s}){const r=ve(),t=r.range.map((o,i)=>{var a,c,l;return o==="dots"?e.jsx(be,{icon:s},i):e.jsx(he,{active:o===r.active,"aria-current":o===r.active?"page":void 0,onClick:()=>r.onChange(o),disabled:r.disabled,...(a=r.getItemProps)==null?void 0:a.call(r,o),children:((l=(c=r.getItemProps)==null?void 0:c.call(r,o))==null?void 0:l.children)??o},i)});return e.jsx(e.Fragment,{children:t})}Fe.displayName="@mantine/core/PaginationItems";const bt={siblings:1,boundaries:1},yt=ce((s,{size:r,radius:t,color:o,autoContrast:i})=>({root:{"--pagination-control-radius":t===void 0?void 0:je(t),"--pagination-control-size":$e(r,"pagination-control-size"),"--pagination-control-fz":qe(r),"--pagination-active-bg":o?ie(o,s):void 0,"--pagination-active-color":Ne(i,s)?Le({color:o,theme:s,autoContrast:i}):void 0}})),we=q((s,r)=>{const t=O("PaginationRoot",bt,s),{classNames:o,className:i,style:a,styles:c,unstyled:l,vars:j,total:g,value:u,defaultValue:v,onChange:y,disabled:p,siblings:h,boundaries:f,color:L,radius:k,onNextPage:S,onPreviousPage:b,onFirstPage:M,onLastPage:z,getItemProps:D,autoContrast:E,attributes:V,...B}=t,Q=le({name:"Pagination",classes:de,props:t,className:i,style:a,classNames:o,styles:c,unstyled:l,attributes:V,vars:j,varsResolver:yt}),{range:W,setPage:n,next:m,previous:d,active:$,first:T,last:x}=qs({page:u,initialPage:v,onChange:y,total:g,siblings:h,boundaries:f}),I=me(S,m),w=me(b,d),A=me(M,T),P=me(z,x);return e.jsx(ut,{value:{total:g,range:W,active:$,disabled:p,getItemProps:D,onChange:n,onNext:I,onPrevious:w,onFirst:A,onLast:P,getStyles:Q},children:e.jsx(_,{ref:r,...Q("root"),...B})})});we.classes=de;we.displayName="@mantine/core/PaginationRoot";const wt={withControls:!0,withPages:!0,siblings:1,boundaries:1,gap:8},Z=q((s,r)=>{const t=O("Pagination",wt,s),{withEdges:o,withControls:i,getControlProps:a,nextIcon:c,previousIcon:l,lastIcon:j,firstIcon:g,dotsIcon:u,total:v,gap:y,hideWithOnePage:p,withPages:h,...f}=t;return v<=0||p&&v===1?null:e.jsx(we,{ref:r,total:v,...f,children:e.jsxs(R,{gap:y,children:[o&&e.jsx(ds,{icon:g,...a==null?void 0:a("first")}),i&&e.jsx(cs,{icon:l,...a==null?void 0:a("previous")}),h&&e.jsx(Fe,{dotsIcon:u}),i&&e.jsx(ls,{icon:c,...a==null?void 0:a("next")}),o&&e.jsx(hs,{icon:j,...a==null?void 0:a("last")})]})})});Z.classes=de;Z.displayName="@mantine/core/Pagination";Z.Root=we;Z.Control=he;Z.Dots=be;Z.First=ds;Z.Last=hs;Z.Next=ls;Z.Previous=cs;Z.Items=Fe;/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]],us=_e("outline","chevron-down","ChevronDown",Ct);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]],ms=_e("outline","chevron-up","ChevronUp",kt);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]],Ge=_e("outline","external-link","ExternalLink",It);function St(s,r,t){if(!s.results||s.results.length===0)return null;const o=s.results.filter(c=>c.status==="alarm"),i=s.results.filter(c=>c.status==="error"),a=o.length+i.length;return a===0?null:{id:s.control_id||`control-${Math.random().toString(36).substr(2,9)}`,title:s.title||"Unnamed Control",controlId:s.control_id||"",category:r,categoryId:t,alarmResults:o,errorResults:i,totalIssues:a}}function xs(s,r,t,o){const i=[];if(s.controls)for(const a of s.controls){const c=St(a,o??s.title,t??s.group_id);if(c&&(i.push(c),r&&i.length>=r))break}if(s.groups&&(!r||i.length<r))for(const a of s.groups){const c=xs(a,r?r-i.length:void 0,t??s.group_id,o??s.title);if(i.push(...c),r&&i.length>=r)break}return i}function zt(s,r=20){const t=[];for(const o of s){const i=xs(o,r-t.length,o.group_id,o.title);if(t.push(...i),t.length>=r)break}return t.sort((o,i)=>o.errorResults.length>0&&i.errorResults.length===0?-1:i.errorResults.length>0&&o.errorResults.length===0?1:i.totalIssues-o.totalIssues).slice(0,r)}function Pt({data:s,columns:r,actions:t=[],selectable:o=!1,sortable:i=!0,filterable:a=!0,pagination:c=!0,pageSize:l=10,loading:j=!1,onSelectionChange:g,onSort:u,onFilter:v,emptyText:y="No data available"}){const[p,h]=N.useState(new Set),[f,L]=N.useState(null),[k,S]=N.useState("asc"),[b,M]=N.useState({}),[z,D]=N.useState(1),[E,V]=N.useState(""),B=x=>{var w;if(!i||!((w=r.find(A=>A.key===x))!=null&&w.sortable))return;const I=f===x&&k==="asc"?"desc":"asc";L(x),S(I),u==null||u(x,I)},Q=()=>{if(p.size===n.length)h(new Set),g==null||g([]);else{const x=new Set(n.map((I,w)=>w.toString()));h(x),g==null||g(n)}},W=x=>{const I=x.toString(),w=new Set(p);w.has(I)?w.delete(I):w.add(I),h(w);const A=Array.from(w).map(P=>n[parseInt(P)]);g==null||g(A)},n=N.useMemo(()=>{let x=[...s];return E.trim()&&(x=x.filter(I=>r.some(w=>{const A=I[w.key];return A==null?void 0:A.toString().toLowerCase().includes(E.toLowerCase())}))),Object.entries(b).forEach(([I,w])=>{w.trim()&&(x=x.filter(A=>{const P=A[I];return P==null?void 0:P.toString().toLowerCase().includes(w.toLowerCase())}))}),f&&x.sort((I,w)=>{const A=I[f],P=w[f];return A<P?k==="asc"?-1:1:A>P?k==="asc"?1:-1:0}),x},[s,E,b,f,k,r]),m=N.useMemo(()=>{if(!c)return n;const x=(z-1)*l;return n.slice(x,x+l)},[n,z,l,c]),d=Math.ceil(n.length/l),$=x=>f!==x?null:k==="asc"?e.jsx(ms,{size:14}):e.jsx(us,{size:14}),T=(x,I)=>{const w={...b,[x]:I};M(w),D(1),v==null||v(w)};return e.jsxs(_,{children:[(a||o)&&e.jsxs(R,{justify:"space-between",mb:"md",children:[e.jsx(R,{gap:"md",children:a&&e.jsx(Pe,{placeholder:"Search across all columns...",leftSection:e.jsx(Ye,{size:16}),value:E,onChange:x=>{V(x.target.value),D(1)},style:{minWidth:250}})}),o&&p.size>0&&e.jsxs(R,{gap:"xs",children:[e.jsxs(C,{size:"sm",c:"dimmed",children:[p.size," selected"]}),e.jsxs(Y.Group,{children:[e.jsx(Y,{variant:"light",size:"xs",leftSection:e.jsx(Xe,{size:14}),children:"Export"}),e.jsx(Y,{variant:"light",size:"xs",color:"red",leftSection:e.jsx(Vs,{size:14}),children:"Delete"})]})]})]}),e.jsx(Ns,{children:e.jsxs(U,{highlightOnHover:!0,striped:!0,children:[e.jsx(U.Thead,{children:e.jsxs(U.Tr,{children:[o&&e.jsx(U.Th,{w:40,children:e.jsx(ee,{checked:p.size===n.length&&n.length>0,indeterminate:p.size>0&&p.size<n.length,onChange:Q})}),r.map(x=>e.jsxs(U.Th,{w:x.width,style:{textAlign:x.align||"left"},children:[e.jsxs(R,{gap:"xs",style:{cursor:x.sortable&&i?"pointer":"default",justifyContent:x.align==="center"?"center":x.align==="right"?"flex-end":"flex-start"},onClick:()=>x.sortable&&B(x.key),children:[e.jsx(C,{size:"sm",fw:600,children:x.label}),x.sortable&&$(x.key)]}),x.filterable&&a&&e.jsx(Pe,{size:"xs",placeholder:`Filter ${x.label.toLowerCase()}...`,value:b[x.key]||"",onChange:I=>T(x.key,I.target.value),mt:4,leftSection:e.jsx(Hs,{size:12})})]},x.key)),t.length>0&&e.jsx(U.Th,{w:60,children:"Actions"})]})}),e.jsx(U.Tbody,{children:m.length===0?e.jsx(U.Tr,{children:e.jsx(U.Td,{colSpan:r.length+(o?1:0)+(t.length>0?1:0),children:e.jsx(_,{ta:"center",py:"xl",children:e.jsx(C,{size:"sm",c:"dimmed",children:y})})})}):m.map((x,I)=>{const w=(z-1)*l+I,A=p.has(w.toString());return e.jsxs(Us.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:I*.02},style:{backgroundColor:A?"var(--mantine-color-blue-0)":void 0},children:[o&&e.jsx(U.Td,{children:e.jsx(ee,{checked:A,onChange:()=>W(w)})}),r.map(P=>{var G;return e.jsx(U.Td,{style:{textAlign:P.align||"left"},children:P.render?P.render(x[P.key],x):e.jsx(C,{size:"sm",children:((G=x[P.key])==null?void 0:G.toString())||"-"})},P.key)}),t.length>0&&e.jsx(U.Td,{children:e.jsxs(xe,{shadow:"md",width:200,children:[e.jsx(xe.Target,{children:e.jsx(Ze,{variant:"subtle",size:"sm",children:e.jsx(Os,{size:16})})}),e.jsx(xe.Dropdown,{children:t.map((P,G)=>{var se;return e.jsx(xe.Item,{leftSection:P.icon,color:P.color,disabled:(se=P.disabled)==null?void 0:se.call(P,x),onClick:()=>P.onClick(x),children:P.label},G)})})]})})]},w)})})]})}),c&&d>1&&e.jsxs(R,{justify:"space-between",mt:"md",children:[e.jsxs(C,{size:"sm",c:"dimmed",children:["Showing ",(z-1)*l+1," to"," ",Math.min(z*l,n.length)," of"," ",n.length," entries"]}),e.jsxs(R,{gap:"sm",children:[e.jsx(ss,{size:"sm",value:l.toString(),onChange:x=>{},data:[{value:"10",label:"10 per page"},{value:"25",label:"25 per page"},{value:"50",label:"50 per page"},{value:"100",label:"100 per page"}],w:130}),e.jsx(Z,{value:z,onChange:D,total:d,size:"sm"})]})]})]})}function ae({label:s,icon:r,color:t="gray",size:o="md",variant:i="soft",count:a,active:c=!1,onClick:l,style:j,className:g}){const{colorScheme:u}=Te(),v=o==="sm"?22:28,y=o==="sm"?8:10,p=o==="sm"?6:8,h=H.useMemo(()=>i==="ghost"?{bg:"transparent",border:"transparent",text:`var(--mantine-color-${t}-7)`,hoverBg:u==="dark"?`var(--mantine-color-${t}-9)`:`var(--mantine-color-${t}-0)`}:i==="outline"?{bg:"transparent",border:u==="dark"?`var(--mantine-color-${t}-7)`:`var(--mantine-color-${t}-4)`,text:u==="dark"?`var(--mantine-color-${t}-2)`:`var(--mantine-color-${t}-7)`,hoverBg:u==="dark"?`var(--mantine-color-${t}-9)`:`var(--mantine-color-${t}-0)`}:{bg:u==="dark"?`var(--mantine-color-${t}-9)`:`var(--mantine-color-${t}-0)`,border:u==="dark"?`var(--mantine-color-${t}-7)`:`var(--mantine-color-${t}-3)`,text:u==="dark"?`var(--mantine-color-${t}-2)`:`var(--mantine-color-${t}-7)`,hoverBg:u==="dark"?`var(--mantine-color-${t}-8)`:`var(--mantine-color-${t}-1)`},[t,i,u]),f=e.jsxs(R,{gap:p,align:"center",style:{height:v,paddingInline:y,borderRadius:9999,border:`1px solid ${h.border}`,backgroundColor:h.bg,color:h.text,transition:"background-color 150ms ease, border-color 150ms ease, transform 150ms ease",boxShadow:c?"inset 0 0 0 1px var(--mantine-color-primary-6)":void 0,...j},className:g,children:[r,typeof s=="string"?e.jsx(C,{size:o==="sm"?"xs":"sm",style:{color:"inherit",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},maw:typeof maxLabelWidth<"u"?maxLabelWidth:void 0,children:s}):s,typeof a=="number"&&e.jsx(_,{style:{marginLeft:2,minWidth:o==="sm"?16:18,height:o==="sm"?16:18,borderRadius:9999,display:"inline-flex",alignItems:"center",justifyContent:"center",backgroundColor:`var(--mantine-color-${t}-6)`,color:"var(--mantine-color-white)",fontSize:o==="sm"?10:11,paddingInline:6},children:a})]});return l?e.jsx(fe,{onClick:l,style:{borderRadius:9999},children:f}):e.jsx(_,{children:f})}function Rt({items:s,onSelect:r,title:t="Top KSI families"}){const{colorScheme:o}=Te();if(!s||s.length===0)return null;const i=Math.max(...s.map(a=>a.count));return e.jsxs(F,{gap:"xs",children:[e.jsxs(C,{size:"xs",c:"dimmed",children:[t,":"]}),e.jsx(Se,{cols:{base:1,sm:2},spacing:"xs",children:s.map(a=>{const c=i>0?Math.max(6,Math.round(a.count/i*100)):0,l=e.jsxs(F,{gap:6,children:[e.jsxs(R,{gap:6,justify:"space-between",wrap:"nowrap",children:[e.jsx(C,{size:"sm",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:a.label}),e.jsx(oe,{style:{fontSize:"var(--mantine-font-size-xs)"},children:a.count})]}),e.jsx(Ws,{value:c,size:"xs",radius:"xl",styles:{root:{background:o==="dark"?"var(--mantine-color-dark-6)":"var(--mantine-color-gray-1)"}}})]});return r?e.jsx(fe,{onClick:()=>r==null?void 0:r(a.id),style:{width:"100%",borderRadius:10,border:`1px solid ${o==="dark"?"var(--mantine-color-dark-4)":"var(--mantine-color-gray-3)"}`,padding:10,transition:"background-color 120ms ease, transform 120ms ease, border-color 120ms ease"},children:l},a.id):e.jsx(_,{style:{width:"100%",borderRadius:10,border:`1px solid ${o==="dark"?"var(--mantine-color-dark-4)":"var(--mantine-color-gray-3)"}`,padding:10},children:l},a.id)})})]})}function Lt({id:s,title:r,controlId:t,category:o,alarmResults:i=[],errorResults:a=[],timestamp:c,onDismiss:l,onAction:j,isDismissible:g=!0,density:u="comfortable"}){const[v,y]=N.useState(!1),[p,h]=N.useState(!1);Te();const f=u==="compact"?"sm":"md",L=n=>{const m=n.reduce((d,$)=>{const T=$.reason||"Unknown issue";return d[T]||(d[T]={reason:T,status:$.status,resources:[]}),$.resource&&d[T].resources.push({resource:$.resource,dimensions:$.dimensions}),d},{});return Object.values(m)},k=L(i),S=L(a),b=i.length+a.length,M=i.length>0,z=a.length>0,V={error:{color:"grape",icon:ne,bgColor:"grape.0",borderColor:"grape.3",pulse:!0},alarm:{color:"red",icon:pe,bgColor:"red.0",borderColor:"red.3",pulse:!0},info:{color:"blue",icon:_s,bgColor:"blue.0",borderColor:"blue.3",pulse:!1}}[z?"error":M?"alarm":"info"],B=V.icon,Q=()=>{h(!0),setTimeout(()=>{l==null||l(s)},300)},W=n=>{if(n.includes("gitlab")){const m=n.split("/");return m[m.length-1]||n}return n};return b===0||p?null:e.jsxs(K,{shadow:"sm",padding:f,radius:"md",withBorder:!0,className:"relative overflow-hidden",style:{borderLeft:`3px solid var(--mantine-color-${V.color}-6)`},children:[e.jsxs(R,{justify:"space-between",mb:"xs",align:"flex-start",children:[e.jsxs(R,{gap:"sm",align:"flex-start",style:{flex:1},children:[e.jsx(ze,{color:V.color,variant:"light",size:"md",radius:"md",children:e.jsx(B,{size:18})}),e.jsxs(_,{style:{flex:1},children:[e.jsxs(R,{gap:"xs",wrap:"nowrap",children:[e.jsx(C,{size:"sm",fw:600,style:{flex:1},children:r}),z&&e.jsx(ae,{label:`${a.length} errors`,color:"grape",size:"sm"}),M&&e.jsx(ae,{label:`${i.length} alarms`,color:"red",size:"sm"}),o&&e.jsx(ae,{label:o,color:"gray",size:"sm",variant:"outline",maxLabelWidth:240})]}),e.jsxs(R,{gap:"xs",mt:2,children:[t&&e.jsx(oe,{c:"dimmed",style:{fontSize:"var(--mantine-font-size-xs)"},children:t}),c&&e.jsx(C,{size:"xs",c:"dimmed",children:c})]})]})]}),g&&e.jsx(Ts,{size:"sm",onClick:Q,"aria-label":"Dismiss alert"})]}),e.jsx(_,{onClick:()=>y(!v),style:{cursor:"pointer"},mb:"sm",children:e.jsxs(R,{justify:"space-between",align:"center",children:[e.jsx(C,{size:"sm",c:"dimmed",fw:500,children:v?"Hide details":`Show details (${b})`}),v?e.jsx(ms,{size:16,color:"var(--mantine-color-dimmed)"}):e.jsx(us,{size:16,color:"var(--mantine-color-dimmed)"})]})}),e.jsx(ts,{in:v,children:e.jsxs(F,{gap:u==="compact"?"sm":"md",children:[S.length>0&&e.jsxs(_,{children:[e.jsxs(R,{gap:"xs",mb:"xs",children:[e.jsx(ne,{size:16,color:"var(--mantine-color-grape-6)"}),e.jsxs(C,{size:"sm",fw:600,c:"grape",children:["Errors (",a.length,")"]})]}),e.jsx(F,{gap:u==="compact"?"xs":"sm",children:S.map((n,m)=>e.jsxs(K,{padding:u==="compact"?"xs":"sm",withBorder:!0,children:[e.jsx(C,{size:"sm",mb:"xs",children:n.reason}),n.resources.length>0&&e.jsxs(_,{children:[e.jsxs(C,{size:"xs",c:"dimmed",mb:4,children:["Affected resources (",n.resources.length,"):"]}),e.jsx(J,{spacing:"xs",size:"sm",children:n.resources.map((d,$)=>e.jsxs(J.Item,{children:[d.resource.startsWith("http")?e.jsxs(Oe,{href:d.resource,target:"_blank",size:"sm",style:{display:"flex",alignItems:"center",gap:4},children:[W(d.resource),e.jsx(Ge,{size:12})]}):e.jsx(oe,{style:{fontSize:"var(--mantine-font-size-sm)"},children:d.resource}),d.dimensions&&d.dimensions.length>0&&e.jsx(C,{size:"xs",c:"dimmed",mt:2,children:d.dimensions.map(T=>`${T.key}: ${T.value}`).join(", ")})]},$))})]})]},m))})]}),k.length>0&&e.jsxs(_,{children:[S.length>0&&e.jsx(Qe,{}),e.jsxs(R,{gap:"xs",mb:"xs",children:[e.jsx(pe,{size:16,color:"var(--mantine-color-red-6)"}),e.jsxs(C,{size:"sm",fw:600,c:"red",children:["Alarms (",i.length,")"]})]}),e.jsx(F,{gap:u==="compact"?"xs":"sm",children:k.map((n,m)=>e.jsxs(K,{padding:u==="compact"?"xs":"sm",withBorder:!0,children:[e.jsx(C,{size:"sm",mb:"xs",children:n.reason}),n.resources.length>0&&e.jsxs(_,{children:[e.jsxs(C,{size:"xs",c:"dimmed",mb:4,children:["Affected resources (",n.resources.length,"):"]}),e.jsx(J,{spacing:"xs",size:"sm",children:n.resources.map((d,$)=>e.jsxs(J.Item,{children:[d.resource.startsWith("http")?e.jsxs(Oe,{href:d.resource,target:"_blank",size:"sm",style:{display:"flex",alignItems:"center",gap:4},children:[W(d.resource),e.jsx(Ge,{size:12})]}):e.jsx(oe,{style:{fontSize:"var(--mantine-font-size-sm)"},children:d.resource}),d.dimensions&&d.dimensions.length>0&&e.jsx(C,{size:"xs",c:"dimmed",mt:2,children:d.dimensions.map(T=>`${T.key}: ${T.value}`).join(", ")})]},$))})]})]},m))})]})]})}),j&&e.jsx(Y,{variant:"light",color:V.color,size:u==="compact"?"xs":"sm",mt:u==="compact"?"xs":"sm",rightSection:e.jsx(Gs,{size:14}),onClick:j,children:"View Control Details"})]})}const $t=As()(Ms(s=>({dismissedIds:[],dismiss:r=>s(t=>({dismissedIds:t.dismissedIds.includes(r)?t.dismissedIds:[r,...t.dismissedIds].slice(0,500)})),restore:r=>s(t=>({dismissedIds:t.dismissedIds.filter(o=>o!==r)})),clearAll:()=>s({dismissedIds:[]})}),{name:"alerts-storage",partialize:s=>({dismissedIds:s.dismissedIds})})),Et=()=>[{title:"Alerts Center"},{name:"description",content:"Centralized view of KSI alarms and errors across all KSI families"}],Bt=ps(function(){const{ksiCategories:r,loading:t,error:o}=vs(),[i,a]=fs(),c=js(),{dismissedIds:l,dismiss:j,restore:g,clearAll:u}=$t(),v=i.get("severity")??"all",y=i.get("category")??"all",p=i.get("q")??"",h=i.get("show")??"active",f=i.get("view")??"list",[L,k]=H.useState(p),[S]=Ks(L,500);H.useEffect(()=>{a(n=>{const m=new URLSearchParams(n);return S?m.set("q",S):m.delete("q"),m},{preventScrollReset:!0})},[S,a]),H.useEffect(()=>{k(p)},[p]);const b=H.useMemo(()=>zt(r,500).filter(d=>{const $=v==="all"||v==="alarm"&&d.alarmResults.length>0||v==="error"&&d.errorResults.length>0,T=y==="all"||d.categoryId===y,x=p?(d.title||"").toLowerCase().includes(p.toLowerCase())||(d.category||"").toLowerCase().includes(p.toLowerCase()):!0,I=l.includes(d.id);return $&&T&&x&&(h==="all"?!0:h==="dismissed"?I:!I)}),[r,v,y,p,h,l]),M=H.useMemo(()=>{const n=r.map(m=>({value:m.group_id,label:m.title}));return[{value:"all",label:"All KSI families"},...n]},[r]),z=b.reduce((n,m)=>n+m.errorResults.length,0),D=b.reduce((n,m)=>n+m.alarmResults.length,0),E=new Set(b.map(n=>n.categoryId)).size,V=H.useMemo(()=>{const n=new Map;for(const m of b){if(!m.categoryId)continue;const d=m.categoryId,$=n.get(d)??{id:d,title:m.category??d,count:0};$.count+=m.totalIssues,n.set(d,$)}return Array.from(n.values()).sort((m,d)=>d.count-m.count).slice(0,5)},[b]),B=H.useMemo(()=>h==="dismissed"&&l.length===0?"No alerts to restore. You have not dismissed any alerts.":h==="active"&&b.length===0?p||y!=="all"||v!=="all"?"No alerts match the selected filters.":"No alerts to dismiss. All alerts have been processed.":h==="all"&&b.length===0&&l.length===0?"No alerts to manage. All alerts have been processed.":b.length===0?"No alerts match the selected filters.":"",[h,l.length,b,p,y,v]),Q=H.useMemo(()=>h==="dismissed"?0:h==="all"?b.filter(n=>!l.includes(n.id)).length:b.length,[h,b,l]),W=H.useMemo(()=>h==="active"?0:l.length,[h,l.length]);return t?e.jsx(Ce,{size:"lg",py:"xl",children:e.jsxs(R,{justify:"center",mt:"xl",children:[e.jsx(Ds,{}),e.jsx(C,{children:"Loading alerts…"})]})}):o?e.jsx(Ce,{size:"lg",py:"xl",children:e.jsx(bs,{color:"red",title:"Failed to load data",variant:"light",children:o})}):e.jsx(Ce,{size:"xl",py:"lg",children:e.jsxs(F,{gap:"lg",children:[e.jsx(K,{withBorder:!0,padding:"md",radius:"md",children:e.jsxs(F,{gap:"sm",children:[e.jsxs(R,{justify:"space-between",align:"center",children:[e.jsxs("div",{children:[e.jsxs(R,{gap:"xs",align:"center",children:[e.jsx(te,{order:2,children:"Alerts Center"}),e.jsx(Ve,{tooltip:"This page lists alerts that have detailed result rows. Execution errors that appear in dashboard summaries but do not include per-result details are not shown here. That is why the dashboard 'Errors' total can be higher than the count here.",position:"bottom-start"})]}),e.jsx(R,{gap:6,align:"center",children:e.jsx(C,{c:"dimmed",children:"Focused hub for alarms and errors across all KSI families"})})]}),e.jsxs(R,{gap:"xs",children:[e.jsx(ae,{label:`${D} alarms`,color:"red",size:"md",icon:e.jsx(pe,{size:14})}),e.jsx(ae,{label:`${z} errors`,color:"grape",size:"md",icon:e.jsx(ne,{size:14})})]})]}),e.jsxs(Se,{cols:{base:2,sm:4},spacing:"sm",children:[e.jsx(K,{withBorder:!0,padding:"sm",radius:"md",children:e.jsxs(F,{gap:2,align:"flex-start",children:[e.jsx(C,{size:"xs",c:"dimmed",children:"Alarms"}),e.jsxs(R,{gap:6,children:[e.jsx(ze,{color:"red",variant:"light",size:"sm",children:e.jsx(pe,{size:14})}),e.jsx(te,{order:4,children:D})]})]})}),e.jsx(K,{withBorder:!0,padding:"sm",radius:"md",children:e.jsxs(F,{gap:2,align:"flex-start",children:[e.jsxs(R,{gap:"xs",align:"center",children:[e.jsx(C,{size:"xs",c:"dimmed",children:"Errors"}),e.jsx(Ve,{tooltip:"This shows only errors with detailed result rows that can be reviewed. Controls that failed to execute but didn't produce detailed results are included in the dashboard's error total but not shown here. This is why the count here may be lower than the dashboard.",size:12})]}),e.jsxs(R,{gap:6,children:[e.jsx(ze,{color:"grape",variant:"light",size:"sm",children:e.jsx(ne,{size:14})}),e.jsx(te,{order:4,children:z})]})]})}),e.jsx(K,{withBorder:!0,padding:"sm",radius:"md",children:e.jsxs(F,{gap:2,align:"flex-start",children:[e.jsx(C,{size:"xs",c:"dimmed",children:"Affected KSI families"}),e.jsx(te,{order:4,children:E})]})}),e.jsx(K,{withBorder:!0,padding:"sm",radius:"md",children:e.jsxs(F,{gap:2,align:"flex-start",children:[e.jsx(C,{size:"xs",c:"dimmed",children:"Visible alerts"}),e.jsx(te,{order:4,children:b.length})]})})]})]})}),e.jsxs(K,{withBorder:!0,padding:"md",radius:"md",children:[e.jsxs(F,{gap:"sm",children:[e.jsxs(R,{justify:"space-between",align:"flex-end",wrap:"wrap",children:[e.jsx(Pe,{label:"Search",placeholder:"Search title or KSI family…",leftSection:e.jsx(Ye,{size:14}),value:L,onChange:n=>k(n.currentTarget.value),onKeyDown:n=>{n.key==="Escape"&&k("")},rightSection:L?e.jsx(Ze,{size:"sm",variant:"subtle",onClick:()=>k(""),children:e.jsx(ne,{size:14})}):void 0,style:{flex:1,minWidth:260,maxWidth:520}}),e.jsxs(R,{gap:"xs",children:[e.jsx(Y,{variant:"light",leftSection:e.jsx(Xe,{size:16}),onClick:()=>{const n=new Blob([JSON.stringify(b,null,2)],{type:"application/json"}),m=URL.createObjectURL(n),d=document.createElement("a");d.href=m,d.download="alerts-export.json",document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(m)},children:"Export"}),h!=="dismissed"&&e.jsx(Ue,{label:"No alerts to dismiss",disabled:Q>0,children:e.jsx(Y,{variant:"subtle",disabled:Q===0,onClick:()=>{const n=h==="all"?b.filter($=>!l.includes($.id)):b,m=n.length;m<=0||!window.confirm(`Dismiss ${m} visible alert${m===1?"":"s"}?`)||n.forEach($=>j($.id))},children:"Dismiss All"})}),h!=="active"&&e.jsx(Ue,{label:"No alerts to restore",disabled:W>0,children:e.jsx(Y,{variant:"subtle",disabled:W===0,onClick:()=>{const n=l.length;n<=0||!window.confirm(`Restore all dismissed alerts (${n})?`)||u()},children:"Restore All"})})]})]}),e.jsxs(Se,{cols:{base:1,sm:2,md:3,lg:5},spacing:"sm",children:[e.jsxs(_,{children:[e.jsx(C,{size:"xs",c:"dimmed",mb:4,children:"Severity"}),e.jsx(ke,{value:v,onChange:n=>a(m=>{const d=new URLSearchParams(m);return n?d.set("severity",n):d.delete("severity"),d},{preventScrollReset:!0}),data:[{label:"All",value:"all"},{label:"Alarms",value:"alarm"},{label:"Errors",value:"error"}]})]}),e.jsxs(_,{children:[e.jsx(C,{size:"xs",c:"dimmed",mb:4,children:"KSI Family"}),e.jsx(ss,{value:y,onChange:n=>a(m=>{const d=new URLSearchParams(m);return n?d.set("category",n):d.delete("category"),d},{preventScrollReset:!0}),data:M,w:"100%"})]}),e.jsxs(_,{children:[e.jsx(C,{size:"xs",c:"dimmed",mb:4,children:"Show"}),e.jsx(ke,{value:h,onChange:n=>a(m=>{const d=new URLSearchParams(m);return n?d.set("show",n):d.delete("show"),d},{preventScrollReset:!0}),data:[{label:"Active",value:"active"},{label:"Dismissed",value:"dismissed"},{label:"All",value:"all"}]})]}),e.jsxs(_,{children:[e.jsx(C,{size:"xs",c:"dimmed",mb:4,children:"View"}),e.jsx(ke,{value:f,onChange:n=>a(m=>{const d=new URLSearchParams(m);return n?d.set("view",n):d.delete("view"),d},{preventScrollReset:!0}),data:[{label:"List",value:"list"},{label:"Table",value:"table"}]})]})]})]}),V.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Qe,{my:"sm"}),e.jsx(R,{gap:"xs",wrap:"wrap",children:e.jsx(Rt,{items:V.map(n=>({id:n.id,label:n.title,count:n.count})),onSelect:n=>a(m=>{const d=new URLSearchParams(m);return d.set("category",n),d},{preventScrollReset:!0})})})]})]}),f==="table"?e.jsx(K,{withBorder:!0,padding:"md",radius:"md",children:e.jsx(Pt,{data:b.map(n=>({title:n.title,category:n.category,controlId:n.controlId,errors:n.errorResults.length,alarms:n.alarmResults.length,total:n.totalIssues})),columns:[{key:"title",label:"Title",sortable:!0,width:"40%"},{key:"category",label:"KSI Family",sortable:!0,width:"25%"},{key:"controlId",label:"Control ID",sortable:!0,width:"15%",render:n=>e.jsx(oe,{style:{fontSize:"var(--mantine-font-size-sm)"},children:n})},{key:"alarms",label:"Alarms",sortable:!0,width:90},{key:"errors",label:"Errors",sortable:!0,width:90},{key:"total",label:"Total",sortable:!0,width:90}],pagination:!0,pageSize:10,emptyText:B||"No alerts match the selected filters"})}):e.jsxs(F,{gap:"md",children:[b.length===0&&e.jsx(K,{withBorder:!0,padding:"md",radius:"md",children:e.jsx(C,{c:"dimmed",ta:"center",children:B||"No alerts match the selected filters."})}),b.map((n,m)=>e.jsx(Lt,{id:n.id,title:n.title,controlId:n.controlId,category:n.category,alarmResults:n.alarmResults,errorResults:n.errorResults,onDismiss:d=>j(d),onAction:()=>{n.categoryId&&c(`/dashboard/${n.categoryId}?control=${encodeURIComponent(n.controlId)}`)}},`${n.id}-${n.controlId}-${m}`))]})]})})});export{Bt as default,Et as meta};
