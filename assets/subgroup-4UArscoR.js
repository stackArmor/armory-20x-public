import{v as m,B as h,q as j,R as y,p as r}from"./chunk-C37GKA54-CG9TNitP.js";import{u as b,A as c}from"./HelpIcon-C1bK2S4u.js";import{d as v}from"./KsiWidgets-Dh61_LEF.js";import{$ as u,T as g,S as C,J as B,V as R,R as S}from"./dashboardStore-j1afM62Q.js";import{C as k}from"./Select-CheMonxa.js";import"./IconHelp-BOZOBTM8.js";import"./IconSettings-CTxfJ391.js";import"./IconCheck-BdoyRWHd.js";import"./PieChart-e3iealr6.js";import"./index-bL05S6fw.js";const q=m(function(){const{categoryId:a,subgroupId:e}=h(),f=j(),{ksiCategories:d,loading:x,error:p}=b(),l=(i,t)=>{for(const o of i){if(o.group_id===t)return o;if(o.groups&&o.groups.length>0){const n=l(o.groups,t);if(n)return n}}return null},s=y.useMemo(()=>{const i=d.find(t=>t.group_id===a);if(i!=null&&i.groups){const t=i.groups.find(n=>n.group_id===e);if(t)return t;const o=l(i.groups,e);if(o)return o}return l(d,e)??null},[d,a,e]);return x?r.jsx(u,{size:"lg",py:"xl",children:r.jsx(g,{children:"Loadingâ€¦"})}):p?r.jsx(u,{size:"lg",py:"xl",children:r.jsx(c,{color:"red",title:"Failed to load data",variant:"light",children:p})}):s?r.jsx(u,{size:"xl",py:"lg",children:r.jsxs(C,{children:[r.jsxs(B,{justify:"space-between",align:"center",children:[r.jsxs("div",{children:[r.jsx(R,{order:2,children:s.title}),s.description&&r.jsx(g,{c:"dimmed",children:s.description})]}),r.jsx(S,{variant:"light",onClick:()=>f(`/dashboard/${a}`),children:"Back to category"})]}),r.jsx(k,{withBorder:!0,padding:"lg",radius:"md",children:r.jsx(v,{group:s})})]})}):r.jsx(u,{size:"lg",py:"xl",children:r.jsx(c,{color:"yellow",title:"Not found",variant:"light",children:"Subgroup not found."})})});export{q as default};
