import{b as A,R as H,f as gs,t as e,y as xs,B as ps,v as fs}from"./index-cMNJPoS_.js";import{S as ke,C as Q,u as js,A as vs}from"./useKsiData-DYznqYJR.js";import{J as ze,ai as ys,aj as bs,l as q,m as G,u as Cs,a9 as ws,B as M,ak as ks,H as Is,x as oe,y as ae,U as pe,z as fe,al as We,E as re,F as Pe,A as Re,G as Le,K as Ss,L as zs,j as Ge,q as Ps,am as Rs,an as Ke,ao as Ls,Q as $,N as $e,T as S,_ as Y,S as $s,Y as He,O as Ne,P as W,a2 as Ns,V as xe,a3 as Ie,Z as qe,ac as _s,R as Ze,W as As,X as Ms,a5 as Ce,a8 as Ts,$ as de,a0 as Be}from"./middleware-lBH-iqYd.js";import{I as Ds,a as Es,b as Bs,l as he,j as Qe,f as Fs,m as Vs,g as ue,h as Us,C as ne,k as Os,A as Fe,e as Ws}from"./proxy-C-U6tZO6.js";import{I as Xe,T as Se,a as Je}from"./IconSearch-kECM3rsK.js";import{C as Ye,T as O,I as Gs,S as es,a as Ve}from"./IconFilter-DfCuJa2v.js";function Ks(s,n,t={leading:!1}){const[r,a]=A.useState(s),o=A.useRef(!1),l=A.useRef(null),i=A.useRef(!1),j=()=>window.clearTimeout(l.current);return A.useEffect(()=>{o.current&&(!i.current&&t.leading?(i.current=!0,a(s)):(j(),l.current=window.setTimeout(()=>{i.current=!1,a(s)},n)))},[s,t.leading,n]),A.useEffect(()=>(o.current=!0,j),[]),[r,j]}function X(s,n){const t=n-s+1;return Array.from({length:t},(r,a)=>a+s)}const me="dots";function Hs({total:s,siblings:n=1,boundaries:t=1,page:r,initialPage:a=1,onChange:o}){const l=Math.max(Math.trunc(s),0),[i,j]=ze({value:r,onChange:o,defaultValue:a,finalValue:a}),g=x=>{x<=0?j(1):x>l?j(l):j(x)},c=()=>g(i+1),p=()=>g(i-1),u=()=>g(1),v=()=>g(l);return{range:A.useMemo(()=>{if(n*2+3+t*2>=l)return X(1,l);const N=Math.max(i-n,t),y=Math.min(i+n,l-t),R=N>t+2,k=y<l-(t+1);if(!R&&k){const E=n*2+t+2;return[...X(1,E),me,...X(l-(t-1),l)]}if(R&&!k){const E=t+1+2*n;return[...X(1,t),me,...X(l-E,l)]}return[...X(1,t),me,...X(N,y),me,...X(l-t+1,l)]},[l,n,i]),active:i,setPage:g,next:c,previous:p,first:u,last:v}}function qs(s){if(!s||typeof s=="string")return 0;const n=s/36;return Math.round((4+15*n**.25+n/5)*10)}function we(s){return s!=null&&s.current?s.current.scrollHeight:"auto"}const te=typeof window<"u"&&window.requestAnimationFrame,Ue=0,Zs=s=>({height:0,overflow:"hidden",...s?{}:{display:"none"}});function Qs({transitionDuration:s,transitionTimingFunction:n="ease",onTransitionEnd:t=()=>{},opened:r,keepMounted:a=!1}){const o=A.useRef(null),l=Zs(a),[i,j]=A.useState(r?{}:l),g=h=>{gs.flushSync(()=>j(h))},c=h=>{g(x=>({...x,...h}))};function p(h){const x=s||qs(h);return{transition:`height ${x}ms ${n}, opacity ${x}ms ${n}`}}ys(()=>{typeof te=="function"&&te(r?()=>{c({willChange:"height",display:"block",overflow:"hidden"}),te(()=>{const h=we(o);c({...p(h),height:h})})}:()=>{const h=we(o);c({...p(h),willChange:"height",height:h}),te(()=>c({height:Ue,overflow:"hidden"}))})},[r]);const u=h=>{if(!(h.target!==o.current||h.propertyName!=="height"))if(r){const x=we(o);x===i.height?g({}):c({height:x}),t()}else i.height===Ue&&(g(l),t())};function v({style:h={},refKey:x="ref",...N}={}){const y=N[x],R={"aria-hidden":!r,...N,[x]:bs(o,y),onTransitionEnd:u,style:{boxSizing:"border-box",...h,...i}};return H.version.startsWith("18")?r||(R.inert=""):R.inert=!r,R}return v}const Xs={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},ss=q((s,n)=>{const{children:t,in:r,transitionDuration:a,transitionTimingFunction:o,style:l,onTransitionEnd:i,animateOpacity:j,keepMounted:g,...c}=G("Collapse",Xs,s),p=Cs(),u=ws(),h=(p.respectReducedMotion?u:!1)?0:a,x=Qs({opened:r,transitionDuration:h,transitionTimingFunction:o,onTransitionEnd:i,keepMounted:g});return h===0?r?e.jsx(M,{...c,children:t}):null:e.jsx(M,{...x({style:{opacity:r||!j?1:0,transition:j?`opacity ${h}ms ${o}`:"none",...ks(l,p)},ref:n,...c}),children:t})});ss.displayName="@mantine/core/Collapse";const ts=A.createContext(null),Js=ts.Provider,ns=()=>A.useContext(ts),[Ys,et]=Is();var rs={card:"m_26775b0a"};const st={withBorder:!0},tt=ae((s,{radius:n})=>({card:{"--card-radius":fe(n)}})),_e=q((s,n)=>{const t=G("CheckboxCard",st,s),{classNames:r,className:a,style:o,styles:l,unstyled:i,vars:j,checked:g,mod:c,withBorder:p,value:u,onClick:v,defaultChecked:h,onChange:x,attributes:N,...y}=t,R=oe({name:"CheckboxCard",classes:rs,props:t,className:a,style:o,classNames:r,styles:l,unstyled:i,attributes:N,vars:j,varsResolver:tt,rootSelector:"card"}),k=ns(),E=typeof g=="boolean"?g:k?k.value.includes(u||""):void 0,[z,F]=ze({value:E,defaultValue:h,finalValue:!1,onChange:x});return e.jsx(Ys,{value:{checked:z},children:e.jsx(pe,{ref:n,mod:[{"with-border":p,checked:z},c],...R("card"),...y,role:"checkbox","aria-checked":z,onClick:V=>{v==null||v(V),k==null||k.onChange(u||""),F(!z)}})})});_e.displayName="@mantine/core/CheckboxCard";_e.classes=rs;const Ae=q((s,n)=>{const{value:t,defaultValue:r,onChange:a,size:o,wrapperProps:l,children:i,readOnly:j,...g}=G("CheckboxGroup",null,s),[c,p]=ze({value:t,defaultValue:r,finalValue:[],onChange:a}),u=v=>{const h=typeof v=="string"?v:v.currentTarget.value;!j&&p(c.includes(h)?c.filter(x=>x!==h):[...c,h])};return e.jsx(Js,{value:{value:c,onChange:u,size:o},children:e.jsx(Xe.Wrapper,{size:o,ref:n,...l,...g,labelElement:"div",__staticSelector:"CheckboxGroup",children:e.jsx(Ds,{role:"group",children:i})})})});Ae.classes=Xe.Wrapper.classes;Ae.displayName="@mantine/core/CheckboxGroup";var os={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const nt={icon:Ye},rt=ae((s,{radius:n,color:t,size:r,iconColor:a,variant:o,autoContrast:l})=>{const i=We({color:t||s.primaryColor,theme:s}),j=i.isThemeColor&&i.shade===void 0?`var(--mantine-color-${i.color}-outline)`:i.color;return{indicator:{"--checkbox-size":Re(r,"checkbox-size"),"--checkbox-radius":n===void 0?void 0:fe(n),"--checkbox-color":o==="outline"?j:re(t,s),"--checkbox-icon-color":a?re(a,s):Le(l,s)?Pe({color:t,theme:s,autoContrast:l}):void 0}}}),Me=q((s,n)=>{const t=G("CheckboxIndicator",nt,s),{classNames:r,className:a,style:o,styles:l,unstyled:i,vars:j,icon:g,indeterminate:c,radius:p,color:u,iconColor:v,autoContrast:h,checked:x,mod:N,variant:y,disabled:R,attributes:k,...E}=t,z=oe({name:"CheckboxIndicator",classes:os,props:t,className:a,style:o,classNames:r,styles:l,unstyled:i,attributes:k,vars:j,varsResolver:rt,rootSelector:"indicator"}),F=et(),V=typeof x=="boolean"||typeof c=="boolean"?x||c:(F==null?void 0:F.checked)||!1;return e.jsx(M,{ref:n,...z("indicator",{variant:y}),variant:y,mod:[{checked:V,disabled:R},N],...E,children:e.jsx(g,{indeterminate:c,...z("icon")})})});Me.displayName="@mantine/core/CheckboxIndicator";Me.classes=os;var as={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const ot={labelPosition:"right",icon:Ye},at=ae((s,{radius:n,color:t,size:r,iconColor:a,variant:o,autoContrast:l})=>{const i=We({color:t||s.primaryColor,theme:s}),j=i.isThemeColor&&i.shade===void 0?`var(--mantine-color-${i.color}-outline)`:i.color;return{root:{"--checkbox-size":Re(r,"checkbox-size"),"--checkbox-radius":n===void 0?void 0:fe(n),"--checkbox-color":o==="outline"?j:re(t,s),"--checkbox-icon-color":a?re(a,s):Le(l,s)?Pe({color:t,theme:s,autoContrast:l}):void 0}}}),ee=q((s,n)=>{const t=G("Checkbox",ot,s),{classNames:r,className:a,style:o,styles:l,unstyled:i,vars:j,color:g,label:c,id:p,size:u,radius:v,wrapperProps:h,checked:x,labelPosition:N,description:y,error:R,disabled:k,variant:E,indeterminate:z,icon:F,rootRef:V,iconColor:U,onChange:d,autoContrast:C,mod:b,attributes:f,..._}=t,w=ns(),B=u||(w==null?void 0:w.size),T=oe({name:"Checkbox",props:t,classes:as,className:a,style:o,classNames:r,styles:l,unstyled:i,attributes:f,vars:j,varsResolver:at}),{styleProps:m,rest:L}=Ss(_),I=zs(p),D=w?{checked:w.value.includes(L.value),onChange:se=>{w.onChange(se),d==null||d(se)}}:{},P=A.useRef(null),K=n||P;return A.useEffect(()=>{K&&"current"in K&&K.current&&(K.current.indeterminate=z||!1)},[z,K]),e.jsx(Es,{...T("root"),__staticSelector:"Checkbox",__stylesApiProps:t,id:I,size:B,labelPosition:N,label:c,description:y,error:R,disabled:k,classNames:r,styles:l,unstyled:i,"data-checked":D.checked||x||void 0,variant:E,ref:V,mod:b,...m,...h,children:e.jsxs(M,{...T("inner"),mod:{"data-label-position":N},children:[e.jsx(M,{component:"input",id:I,ref:K,checked:x,disabled:k,mod:{error:!!R,indeterminate:z},...T("input",{focusable:!0,variant:E}),onChange:d,...L,...D,type:"checkbox"}),e.jsx(F,{indeterminate:z,...T("icon")})]})})});ee.classes={...as,...Bs};ee.displayName="@mantine/core/Checkbox";ee.Group=Ae;ee.Indicator=Me;ee.Card=_e;const[it,lt]=Ge("List component was not found in tree");var Te={root:"m_abbac491",item:"m_abb6bec2",itemWrapper:"m_75cd9f71",itemIcon:"m_60f83e5b"};const De=q((s,n)=>{const t=G("ListItem",null,s),{classNames:r,className:a,style:o,styles:l,vars:i,icon:j,children:g,mod:c,...p}=t,u=lt(),v=j||u.icon,h={classNames:r,styles:l};return e.jsx(M,{...u.getStyles("item",{...h,className:a,style:o}),component:"li",mod:[{"with-icon":!!v,centered:u.center},c],ref:n,...p,children:e.jsxs("div",{...u.getStyles("itemWrapper",h),children:[v&&e.jsx("span",{...u.getStyles("itemIcon",h),children:v}),e.jsx("span",{...u.getStyles("itemLabel",h),children:g})]})})});De.classes=Te;De.displayName="@mantine/core/ListItem";const ct={type:"unordered"},dt=ae((s,{size:n,spacing:t})=>({root:{"--list-fz":Ke(n),"--list-lh":Rs(n),"--list-spacing":Ps(t)}})),J=q((s,n)=>{const t=G("List",ct,s),{classNames:r,className:a,style:o,styles:l,unstyled:i,vars:j,children:g,type:c,withPadding:p,icon:u,spacing:v,center:h,listStyleType:x,mod:N,attributes:y,...R}=t,k=oe({name:"List",classes:Te,props:t,className:a,style:o,classNames:r,styles:l,unstyled:i,attributes:y,vars:j,varsResolver:dt});return e.jsx(it,{value:{center:h,icon:u,getStyles:k},children:e.jsx(M,{...k("root",{style:{listStyleType:x}}),component:c==="unordered"?"ul":"ol",mod:[{"with-padding":p},N],ref:n,...R,children:g})})});J.classes=Te;J.displayName="@mantine/core/List";J.Item=De;const[ht,je]=Ge("Pagination.Root component was not found in tree");var ie={root:"m_4addd315",control:"m_326d024a",dots:"m_4ad7767d"};const ut={withPadding:!0},le=q((s,n)=>{const t=G("PaginationControl",ut,s),{classNames:r,className:a,style:o,styles:l,vars:i,active:j,disabled:g,withPadding:c,mod:p,...u}=t,v=je(),h=g||v.disabled;return e.jsx(pe,{ref:n,disabled:h,mod:[{active:j,disabled:h,"with-padding":c},p],...v.getStyles("control",{className:a,style:o,classNames:r,styles:l,active:!h}),...u})});le.classes=ie;le.displayName="@mantine/core/PaginationControl";function ce({style:s,children:n,path:t,...r}){return e.jsx("svg",{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)",...s},...r,children:e.jsx("path",{d:t,fill:"currentColor"})})}const mt=s=>e.jsx(ce,{...s,path:"M8.781 8l-3.3-3.3.943-.943L10.667 8l-4.243 4.243-.943-.943 3.3-3.3z"}),gt=s=>e.jsx(ce,{...s,path:"M7.219 8l3.3 3.3-.943.943L5.333 8l4.243-4.243.943.943-3.3 3.3z"}),xt=s=>e.jsx(ce,{...s,path:"M6.85355 3.85355C7.04882 3.65829 7.04882 3.34171 6.85355 3.14645C6.65829 2.95118 6.34171 2.95118 6.14645 3.14645L2.14645 7.14645C1.95118 7.34171 1.95118 7.65829 2.14645 7.85355L6.14645 11.8536C6.34171 12.0488 6.65829 12.0488 6.85355 11.8536C7.04882 11.6583 7.04882 11.3417 6.85355 11.1464L3.20711 7.5L6.85355 3.85355ZM12.8536 3.85355C13.0488 3.65829 13.0488 3.34171 12.8536 3.14645C12.6583 2.95118 12.3417 2.95118 12.1464 3.14645L8.14645 7.14645C7.95118 7.34171 7.95118 7.65829 8.14645 7.85355L12.1464 11.8536C12.3417 12.0488 12.6583 12.0488 12.8536 11.8536C13.0488 11.6583 13.0488 11.3417 12.8536 11.1464L9.20711 7.5L12.8536 3.85355Z"}),pt=s=>e.jsx(ce,{...s,path:"M2.14645 11.1464C1.95118 11.3417 1.95118 11.6583 2.14645 11.8536C2.34171 12.0488 2.65829 12.0488 2.85355 11.8536L6.85355 7.85355C7.04882 7.65829 7.04882 7.34171 6.85355 7.14645L2.85355 3.14645C2.65829 2.95118 2.34171 2.95118 2.14645 3.14645C1.95118 3.34171 1.95118 3.65829 2.14645 3.85355L5.79289 7.5L2.14645 11.1464ZM8.14645 11.1464C7.95118 11.3417 7.95118 11.6583 8.14645 11.8536C8.34171 12.0488 8.65829 12.0488 8.85355 11.8536L12.8536 7.85355C13.0488 7.65829 13.0488 7.34171 12.8536 7.14645L8.85355 3.14645C8.65829 2.95118 8.34171 2.95118 8.14645 3.14645C7.95118 3.34171 7.95118 3.65829 8.14645 3.85355L11.7929 7.5L8.14645 11.1464Z"}),ft=s=>e.jsx(ce,{...s,path:"M2 8c0-.733.6-1.333 1.333-1.333.734 0 1.334.6 1.334 1.333s-.6 1.333-1.334 1.333C2.6 9.333 2 8.733 2 8zm9.333 0c0-.733.6-1.333 1.334-1.333C13.4 6.667 14 7.267 14 8s-.6 1.333-1.333 1.333c-.734 0-1.334-.6-1.334-1.333zM6.667 8c0-.733.6-1.333 1.333-1.333s1.333.6 1.333 1.333S8.733 9.333 8 9.333 6.667 8.733 6.667 8z"}),jt={icon:ft},ve=q((s,n)=>{const t=G("PaginationDots",jt,s),{classNames:r,className:a,style:o,styles:l,vars:i,icon:j,...g}=t,c=je();return e.jsx(M,{ref:n,...c.getStyles("dots",{className:a,style:o,styles:l,classNames:r}),...g,children:e.jsx(j,{style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});ve.classes=ie;ve.displayName="@mantine/core/PaginationDots";function ye({icon:s,name:n,action:t,type:r}){const a={icon:s},o=A.forwardRef((l,i)=>{const{icon:j,...g}=G(n,a,l),c=je(),p=r==="next"?c.active===c.total:c.active===1;return e.jsx(le,{disabled:c.disabled||p,ref:i,onClick:c[t],withPadding:!1,...g,children:e.jsx(j,{className:"mantine-rotate-rtl",style:{width:"calc(var(--pagination-control-size) / 1.8)",height:"calc(var(--pagination-control-size) / 1.8)"}})})});return o.displayName=`@mantine/core/${n}`,Ls(o)}const is=ye({icon:mt,name:"PaginationNext",action:"onNext",type:"next"}),ls=ye({icon:gt,name:"PaginationPrevious",action:"onPrevious",type:"previous"}),cs=ye({icon:xt,name:"PaginationFirst",action:"onFirst",type:"previous"}),ds=ye({icon:pt,name:"PaginationLast",action:"onLast",type:"next"});function Ee({dotsIcon:s}){const n=je(),t=n.range.map((r,a)=>{var o,l,i;return r==="dots"?e.jsx(ve,{icon:s},a):e.jsx(le,{active:r===n.active,"aria-current":r===n.active?"page":void 0,onClick:()=>n.onChange(r),disabled:n.disabled,...(o=n.getItemProps)==null?void 0:o.call(n,r),children:((i=(l=n.getItemProps)==null?void 0:l.call(n,r))==null?void 0:i.children)??r},a)});return e.jsx(e.Fragment,{children:t})}Ee.displayName="@mantine/core/PaginationItems";const vt={siblings:1,boundaries:1},yt=ae((s,{size:n,radius:t,color:r,autoContrast:a})=>({root:{"--pagination-control-radius":t===void 0?void 0:fe(t),"--pagination-control-size":Re(n,"pagination-control-size"),"--pagination-control-fz":Ke(n),"--pagination-active-bg":r?re(r,s):void 0,"--pagination-active-color":Le(a,s)?Pe({color:r,theme:s,autoContrast:a}):void 0}})),be=q((s,n)=>{const t=G("PaginationRoot",vt,s),{classNames:r,className:a,style:o,styles:l,unstyled:i,vars:j,total:g,value:c,defaultValue:p,onChange:u,disabled:v,siblings:h,boundaries:x,color:N,radius:y,onNextPage:R,onPreviousPage:k,onFirstPage:E,onLastPage:z,getItemProps:F,autoContrast:V,attributes:U,...d}=t,C=oe({name:"Pagination",classes:ie,props:t,className:a,style:o,classNames:r,styles:l,unstyled:i,attributes:U,vars:j,varsResolver:yt}),{range:b,setPage:f,next:_,previous:w,active:B,first:T,last:m}=Hs({page:c,initialPage:p,onChange:u,total:g,siblings:h,boundaries:x}),L=he(R,_),I=he(k,w),D=he(E,T),P=he(z,m);return e.jsx(ht,{value:{total:g,range:b,active:B,disabled:v,getItemProps:F,onChange:f,onNext:L,onPrevious:I,onFirst:D,onLast:P,getStyles:C},children:e.jsx(M,{ref:n,...C("root"),...d})})});be.classes=ie;be.displayName="@mantine/core/PaginationRoot";const bt={withControls:!0,withPages:!0,siblings:1,boundaries:1,gap:8},Z=q((s,n)=>{const t=G("Pagination",bt,s),{withEdges:r,withControls:a,getControlProps:o,nextIcon:l,previousIcon:i,lastIcon:j,firstIcon:g,dotsIcon:c,total:p,gap:u,hideWithOnePage:v,withPages:h,...x}=t;return p<=0||v&&p===1?null:e.jsx(be,{ref:n,total:p,...x,children:e.jsxs($,{gap:u,children:[r&&e.jsx(cs,{icon:g,...o==null?void 0:o("first")}),a&&e.jsx(ls,{icon:i,...o==null?void 0:o("previous")}),h&&e.jsx(Ee,{dotsIcon:c}),a&&e.jsx(is,{icon:l,...o==null?void 0:o("next")}),r&&e.jsx(ds,{icon:j,...o==null?void 0:o("last")})]})})});Z.classes=ie;Z.displayName="@mantine/core/Pagination";Z.Root=be;Z.Control=le;Z.Dots=ve;Z.First=cs;Z.Last=ds;Z.Next=is;Z.Previous=ls;Z.Items=Ee;/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]],hs=$e("outline","chevron-down","ChevronDown",Ct);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]],us=$e("outline","chevron-up","ChevronUp",wt);/**
 * @license @tabler/icons-react v3.34.1 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]],Oe=$e("outline","external-link","ExternalLink",kt);function It(s,n,t){if(!s.results||s.results.length===0)return null;const r=s.results.filter(l=>l.status==="alarm"),a=s.results.filter(l=>l.status==="error"),o=r.length+a.length;return o===0?null:{id:s.control_id||`control-${Math.random().toString(36).substr(2,9)}`,title:s.title||"Unnamed Control",controlId:s.control_id||"",category:n,categoryId:t,alarmResults:r,errorResults:a,totalIssues:o}}function ms(s,n,t,r){const a=[];if(s.controls)for(const o of s.controls){const l=It(o,r??s.title,t??s.group_id);if(l&&(a.push(l),n&&a.length>=n))break}if(s.groups&&(!n||a.length<n))for(const o of s.groups){const l=ms(o,n?n-a.length:void 0,t??s.group_id,r??s.title);if(a.push(...l),n&&a.length>=n)break}return a}function St(s,n=20){const t=[];for(const r of s){const a=ms(r,n-t.length,r.group_id,r.title);if(t.push(...a),t.length>=n)break}return t.sort((r,a)=>r.errorResults.length>0&&a.errorResults.length===0?-1:a.errorResults.length>0&&r.errorResults.length===0?1:a.totalIssues-r.totalIssues).slice(0,n)}function zt({data:s,columns:n,actions:t=[],selectable:r=!1,sortable:a=!0,filterable:o=!0,pagination:l=!0,pageSize:i=10,loading:j=!1,onSelectionChange:g,onSort:c,onFilter:p,emptyText:u="No data available"}){const[v,h]=A.useState(new Set),[x,N]=A.useState(null),[y,R]=A.useState("asc"),[k,E]=A.useState({}),[z,F]=A.useState(1),[V,U]=A.useState(""),d=m=>{var I;if(!a||!((I=n.find(D=>D.key===m))!=null&&I.sortable))return;const L=x===m&&y==="asc"?"desc":"asc";N(m),R(L),c==null||c(m,L)},C=()=>{if(v.size===f.length)h(new Set),g==null||g([]);else{const m=new Set(f.map((L,I)=>I.toString()));h(m),g==null||g(f)}},b=m=>{const L=m.toString(),I=new Set(v);I.has(L)?I.delete(L):I.add(L),h(I);const D=Array.from(I).map(P=>f[parseInt(P)]);g==null||g(D)},f=A.useMemo(()=>{let m=[...s];return V.trim()&&(m=m.filter(L=>n.some(I=>{const D=L[I.key];return D==null?void 0:D.toString().toLowerCase().includes(V.toLowerCase())}))),Object.entries(k).forEach(([L,I])=>{I.trim()&&(m=m.filter(D=>{const P=D[L];return P==null?void 0:P.toString().toLowerCase().includes(I.toLowerCase())}))}),x&&m.sort((L,I)=>{const D=L[x],P=I[x];return D<P?y==="asc"?-1:1:D>P?y==="asc"?1:-1:0}),m},[s,V,k,x,y,n]),_=A.useMemo(()=>{if(!l)return f;const m=(z-1)*i;return f.slice(m,m+i)},[f,z,i,l]),w=Math.ceil(f.length/i),B=m=>x!==m?null:y==="asc"?e.jsx(us,{size:14}):e.jsx(hs,{size:14}),T=(m,L)=>{const I={...k,[m]:L};E(I),F(1),p==null||p(I)};return e.jsxs(M,{children:[(o||r)&&e.jsxs($,{justify:"space-between",mb:"md",children:[e.jsx($,{gap:"md",children:o&&e.jsx(Se,{placeholder:"Search across all columns...",leftSection:e.jsx(Je,{size:16}),value:V,onChange:m=>{U(m.target.value),F(1)},style:{minWidth:250}})}),r&&v.size>0&&e.jsxs($,{gap:"xs",children:[e.jsxs(S,{size:"sm",c:"dimmed",children:[v.size," selected"]}),e.jsxs(Y.Group,{children:[e.jsx(Y,{variant:"light",size:"xs",leftSection:e.jsx(Qe,{size:14}),children:"Export"}),e.jsx(Y,{variant:"light",size:"xs",color:"red",leftSection:e.jsx(Fs,{size:14}),children:"Delete"})]})]})]}),e.jsx($s,{children:e.jsxs(O,{highlightOnHover:!0,striped:!0,children:[e.jsx(O.Thead,{children:e.jsxs(O.Tr,{children:[r&&e.jsx(O.Th,{w:40,children:e.jsx(ee,{checked:v.size===f.length&&f.length>0,indeterminate:v.size>0&&v.size<f.length,onChange:C})}),n.map(m=>e.jsxs(O.Th,{w:m.width,style:{textAlign:m.align||"left"},children:[e.jsxs($,{gap:"xs",style:{cursor:m.sortable&&a?"pointer":"default",justifyContent:m.align==="center"?"center":m.align==="right"?"flex-end":"flex-start"},onClick:()=>m.sortable&&d(m.key),children:[e.jsx(S,{size:"sm",fw:600,children:m.label}),m.sortable&&B(m.key)]}),m.filterable&&o&&e.jsx(Se,{size:"xs",placeholder:`Filter ${m.label.toLowerCase()}...`,value:k[m.key]||"",onChange:L=>T(m.key,L.target.value),mt:4,leftSection:e.jsx(Gs,{size:12})})]},m.key)),t.length>0&&e.jsx(O.Th,{w:60,children:"Actions"})]})}),e.jsx(O.Tbody,{children:_.length===0?e.jsx(O.Tr,{children:e.jsx(O.Td,{colSpan:n.length+(r?1:0)+(t.length>0?1:0),children:e.jsx(M,{ta:"center",py:"xl",children:e.jsx(S,{size:"sm",c:"dimmed",children:u})})})}):_.map((m,L)=>{const I=(z-1)*i+L,D=v.has(I.toString());return e.jsxs(Vs.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:L*.02},style:{backgroundColor:D?"var(--mantine-color-blue-0)":void 0},children:[r&&e.jsx(O.Td,{children:e.jsx(ee,{checked:D,onChange:()=>b(I)})}),n.map(P=>{var K;return e.jsx(O.Td,{style:{textAlign:P.align||"left"},children:P.render?P.render(m[P.key],m):e.jsx(S,{size:"sm",children:((K=m[P.key])==null?void 0:K.toString())||"-"})},P.key)}),t.length>0&&e.jsx(O.Td,{children:e.jsxs(ue,{shadow:"md",width:200,children:[e.jsx(ue.Target,{children:e.jsx(He,{variant:"subtle",size:"sm",children:e.jsx(Us,{size:16})})}),e.jsx(ue.Dropdown,{children:t.map((P,K)=>{var se;return e.jsx(ue.Item,{leftSection:P.icon,color:P.color,disabled:(se=P.disabled)==null?void 0:se.call(P,m),onClick:()=>P.onClick(m),children:P.label},K)})})]})})]},I)})})]})}),l&&w>1&&e.jsxs($,{justify:"space-between",mt:"md",children:[e.jsxs(S,{size:"sm",c:"dimmed",children:["Showing ",(z-1)*i+1," to"," ",Math.min(z*i,f.length)," of"," ",f.length," entries"]}),e.jsxs($,{gap:"sm",children:[e.jsx(es,{size:"sm",value:i.toString(),onChange:m=>{},data:[{value:"10",label:"10 per page"},{value:"25",label:"25 per page"},{value:"50",label:"50 per page"},{value:"100",label:"100 per page"}],w:130}),e.jsx(Z,{value:z,onChange:F,total:w,size:"sm"})]})]})]})}function ge({label:s,icon:n,color:t="gray",size:r="md",variant:a="soft",count:o,active:l=!1,onClick:i,style:j,className:g}){const{colorScheme:c}=Ne(),p=r==="sm"?22:28,u=r==="sm"?8:10,v=r==="sm"?6:8,h=H.useMemo(()=>a==="ghost"?{bg:"transparent",border:"transparent",text:`var(--mantine-color-${t}-7)`,hoverBg:c==="dark"?`var(--mantine-color-${t}-9)`:`var(--mantine-color-${t}-0)`}:a==="outline"?{bg:"transparent",border:c==="dark"?`var(--mantine-color-${t}-7)`:`var(--mantine-color-${t}-4)`,text:c==="dark"?`var(--mantine-color-${t}-2)`:`var(--mantine-color-${t}-7)`,hoverBg:c==="dark"?`var(--mantine-color-${t}-9)`:`var(--mantine-color-${t}-0)`}:{bg:c==="dark"?`var(--mantine-color-${t}-9)`:`var(--mantine-color-${t}-0)`,border:c==="dark"?`var(--mantine-color-${t}-7)`:`var(--mantine-color-${t}-3)`,text:c==="dark"?`var(--mantine-color-${t}-2)`:`var(--mantine-color-${t}-7)`,hoverBg:c==="dark"?`var(--mantine-color-${t}-8)`:`var(--mantine-color-${t}-1)`},[t,a,c]),x=e.jsxs($,{gap:v,align:"center",style:{height:p,paddingInline:u,borderRadius:9999,border:`1px solid ${h.border}`,backgroundColor:h.bg,color:h.text,transition:"background-color 150ms ease, border-color 150ms ease, transform 150ms ease",boxShadow:l?"inset 0 0 0 1px var(--mantine-color-primary-6)":void 0,...j},className:g,children:[n,typeof s=="string"?e.jsx(S,{size:r==="sm"?"xs":"sm",style:{color:"inherit",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},maw:typeof maxLabelWidth<"u"?maxLabelWidth:void 0,children:s}):s,typeof o=="number"&&e.jsx(M,{style:{marginLeft:2,minWidth:r==="sm"?16:18,height:r==="sm"?16:18,borderRadius:9999,display:"inline-flex",alignItems:"center",justifyContent:"center",backgroundColor:`var(--mantine-color-${t}-6)`,color:"var(--mantine-color-white)",fontSize:r==="sm"?10:11,paddingInline:6},children:o})]});return i?e.jsx(pe,{onClick:i,style:{borderRadius:9999},children:x}):e.jsx(M,{children:x})}function Pt({items:s,onSelect:n,title:t="Top KSI families"}){const{colorScheme:r}=Ne();if(!s||s.length===0)return null;const a=Math.max(...s.map(o=>o.count));return e.jsxs(W,{gap:"xs",children:[e.jsxs(S,{size:"xs",c:"dimmed",children:[t,":"]}),e.jsx(ke,{cols:{base:1,sm:2},spacing:"xs",children:s.map(o=>{const l=a>0?Math.max(6,Math.round(o.count/a*100)):0,i=e.jsxs(W,{gap:6,children:[e.jsxs($,{gap:6,justify:"space-between",wrap:"nowrap",children:[e.jsx(S,{size:"sm",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:o.label}),e.jsx(ne,{style:{fontSize:"var(--mantine-font-size-xs)"},children:o.count})]}),e.jsx(Os,{value:l,size:"xs",radius:"xl",styles:{root:{background:r==="dark"?"var(--mantine-color-dark-6)":"var(--mantine-color-gray-1)"}}})]});return n?e.jsx(pe,{onClick:()=>n==null?void 0:n(o.id),style:{width:"100%",borderRadius:10,border:`1px solid ${r==="dark"?"var(--mantine-color-dark-4)":"var(--mantine-color-gray-3)"}`,padding:10,transition:"background-color 120ms ease, transform 120ms ease, border-color 120ms ease"},children:i},o.id):e.jsx(M,{style:{width:"100%",borderRadius:10,border:`1px solid ${r==="dark"?"var(--mantine-color-dark-4)":"var(--mantine-color-gray-3)"}`,padding:10},children:i},o.id)})})]})}function Rt({id:s,title:n,controlId:t,category:r,alarmResults:a=[],errorResults:o=[],timestamp:l,onDismiss:i,onAction:j,isDismissible:g=!0,density:c="comfortable"}){const[p,u]=A.useState(!1),[v,h]=A.useState(!1);Ne();const x=c==="compact"?"sm":"md",N=f=>{const _=f.reduce((w,B)=>{const T=B.reason||"Unknown issue";return w[T]||(w[T]={reason:T,status:B.status,resources:[]}),B.resource&&w[T].resources.push({resource:B.resource,dimensions:B.dimensions}),w},{});return Object.values(_)},y=N(a),R=N(o),k=a.length+o.length,E=a.length>0,z=o.length>0,U={error:{color:"grape",icon:Ie,bgColor:"grape.0",borderColor:"grape.3",pulse:!0},alarm:{color:"red",icon:xe,bgColor:"red.0",borderColor:"red.3",pulse:!0},info:{color:"blue",icon:Ns,bgColor:"blue.0",borderColor:"blue.3",pulse:!1}}[z?"error":E?"alarm":"info"],d=U.icon,C=()=>{h(!0),setTimeout(()=>{i==null||i(s)},300)},b=f=>{if(f.includes("gitlab")){const _=f.split("/");return _[_.length-1]||f}return f};return k===0||v?null:e.jsxs(Q,{shadow:"sm",padding:x,radius:"md",withBorder:!0,className:"relative overflow-hidden",style:{borderLeft:`3px solid var(--mantine-color-${U.color}-6)`},children:[e.jsxs($,{justify:"space-between",mb:"xs",align:"flex-start",children:[e.jsxs($,{gap:"sm",align:"flex-start",style:{flex:1},children:[e.jsx(qe,{color:U.color,variant:"light",size:"md",radius:"md",children:e.jsx(d,{size:18})}),e.jsxs(M,{style:{flex:1},children:[e.jsxs($,{gap:"xs",wrap:"nowrap",children:[e.jsx(S,{size:"sm",fw:600,style:{flex:1},children:n}),z&&e.jsx(ge,{label:`${o.length} errors`,color:"grape",size:"sm"}),E&&e.jsx(ge,{label:`${a.length} alarms`,color:"red",size:"sm"}),r&&e.jsx(ge,{label:r,color:"gray",size:"sm",variant:"outline",maxLabelWidth:240})]}),e.jsxs($,{gap:"xs",mt:2,children:[t&&e.jsx(ne,{c:"dimmed",style:{fontSize:"var(--mantine-font-size-xs)"},children:t}),l&&e.jsx(S,{size:"xs",c:"dimmed",children:l})]})]})]}),g&&e.jsx(_s,{size:"sm",onClick:C,"aria-label":"Dismiss alert"})]}),e.jsx(M,{onClick:()=>u(!p),style:{cursor:"pointer"},mb:"sm",children:e.jsxs($,{justify:"space-between",align:"center",children:[e.jsx(S,{size:"sm",c:"dimmed",fw:500,children:p?"Hide details":`Show details (${k})`}),p?e.jsx(us,{size:16,color:"var(--mantine-color-dimmed)"}):e.jsx(hs,{size:16,color:"var(--mantine-color-dimmed)"})]})}),e.jsx(ss,{in:p,children:e.jsxs(W,{gap:c==="compact"?"sm":"md",children:[R.length>0&&e.jsxs(M,{children:[e.jsxs($,{gap:"xs",mb:"xs",children:[e.jsx(Ie,{size:16,color:"var(--mantine-color-grape-6)"}),e.jsxs(S,{size:"sm",fw:600,c:"grape",children:["Errors (",o.length,")"]})]}),e.jsx(W,{gap:c==="compact"?"xs":"sm",children:R.map((f,_)=>e.jsxs(Q,{padding:c==="compact"?"xs":"sm",withBorder:!0,children:[e.jsx(S,{size:"sm",mb:"xs",children:f.reason}),f.resources.length>0&&e.jsxs(M,{children:[e.jsxs(S,{size:"xs",c:"dimmed",mb:4,children:["Affected resources (",f.resources.length,"):"]}),e.jsx(J,{spacing:"xs",size:"sm",children:f.resources.map((w,B)=>e.jsxs(J.Item,{children:[w.resource.startsWith("http")?e.jsxs(Fe,{href:w.resource,target:"_blank",size:"sm",style:{display:"flex",alignItems:"center",gap:4},children:[b(w.resource),e.jsx(Oe,{size:12})]}):e.jsx(ne,{style:{fontSize:"var(--mantine-font-size-sm)"},children:w.resource}),w.dimensions&&w.dimensions.length>0&&e.jsx(S,{size:"xs",c:"dimmed",mt:2,children:w.dimensions.map(T=>`${T.key}: ${T.value}`).join(", ")})]},B))})]})]},_))})]}),y.length>0&&e.jsxs(M,{children:[R.length>0&&e.jsx(Ze,{}),e.jsxs($,{gap:"xs",mb:"xs",children:[e.jsx(xe,{size:16,color:"var(--mantine-color-red-6)"}),e.jsxs(S,{size:"sm",fw:600,c:"red",children:["Alarms (",a.length,")"]})]}),e.jsx(W,{gap:c==="compact"?"xs":"sm",children:y.map((f,_)=>e.jsxs(Q,{padding:c==="compact"?"xs":"sm",withBorder:!0,children:[e.jsx(S,{size:"sm",mb:"xs",children:f.reason}),f.resources.length>0&&e.jsxs(M,{children:[e.jsxs(S,{size:"xs",c:"dimmed",mb:4,children:["Affected resources (",f.resources.length,"):"]}),e.jsx(J,{spacing:"xs",size:"sm",children:f.resources.map((w,B)=>e.jsxs(J.Item,{children:[w.resource.startsWith("http")?e.jsxs(Fe,{href:w.resource,target:"_blank",size:"sm",style:{display:"flex",alignItems:"center",gap:4},children:[b(w.resource),e.jsx(Oe,{size:12})]}):e.jsx(ne,{style:{fontSize:"var(--mantine-font-size-sm)"},children:w.resource}),w.dimensions&&w.dimensions.length>0&&e.jsx(S,{size:"xs",c:"dimmed",mt:2,children:w.dimensions.map(T=>`${T.key}: ${T.value}`).join(", ")})]},B))})]})]},_))})]})]})}),j&&e.jsx(Y,{variant:"light",color:U.color,size:c==="compact"?"xs":"sm",mt:c==="compact"?"xs":"sm",rightSection:e.jsx(Ws,{size:14}),onClick:j,children:"View Control Details"})]})}const Lt=As()(Ms(s=>({dismissedIds:[],dismiss:n=>s(t=>({dismissedIds:t.dismissedIds.includes(n)?t.dismissedIds:[n,...t.dismissedIds].slice(0,500)})),restore:n=>s(t=>({dismissedIds:t.dismissedIds.filter(r=>r!==n)})),clearAll:()=>s({dismissedIds:[]})}),{name:"alerts-storage",partialize:s=>({dismissedIds:s.dismissedIds})})),Dt=()=>[{title:"Alarms Center"},{name:"description",content:"Centralized view of KSI alarms across all KSI families"}],Et=xs(function(){const{ksiCategories:n,loading:t,error:r}=js(),[a,o]=ps(),l=fs(),{dismissedIds:i,dismiss:j,clearAll:g}=Lt(),c=a.get("category")??"all",p=a.get("q")??"",u=a.get("show")??"active",v=a.get("view")??"list",[h,x]=H.useState(p),[N]=Ks(h,500);H.useEffect(()=>{o(d=>{const C=new URLSearchParams(d);return N?C.set("q",N):C.delete("q"),C},{preventScrollReset:!0})},[N,o]),H.useEffect(()=>{x(p)},[p]);const y=H.useMemo(()=>St(n,500).filter(b=>{const f=b.alarmResults.length>0,_=c==="all"||b.categoryId===c,w=p?(b.title||"").toLowerCase().includes(p.toLowerCase())||(b.category||"").toLowerCase().includes(p.toLowerCase()):!0,B=i.includes(b.id);return f&&_&&w&&(u==="all"?!0:u==="dismissed"?B:!B)}),[n,c,p,u,i]),R=H.useMemo(()=>{const d=n.map(C=>({value:C.group_id,label:C.title}));return[{value:"all",label:"All KSI families"},...d]},[n]),k=y.reduce((d,C)=>d+C.alarmResults.length,0),E=new Set(y.map(d=>d.categoryId)).size,z=H.useMemo(()=>{const d=new Map;for(const C of y){if(!C.categoryId)continue;const b=C.categoryId,f=d.get(b)??{id:b,title:C.category??b,count:0};f.count+=C.alarmResults.length,d.set(b,f)}return Array.from(d.values()).sort((C,b)=>b.count-C.count).slice(0,5)},[y]),F=H.useMemo(()=>u==="dismissed"&&i.length===0?"No alerts to restore. You have not dismissed any alerts.":u==="active"&&y.length===0?p||c!=="all"?"No alerts match the selected filters.":"No alerts to dismiss. All alerts have been processed.":u==="all"&&y.length===0&&i.length===0?"No alerts to manage. All alerts have been processed.":y.length===0?"No alerts match the selected filters.":"",[u,i.length,y,p,c]),V=H.useMemo(()=>u==="dismissed"?0:u==="all"?y.filter(d=>!i.includes(d.id)).length:y.length,[u,y,i]),U=H.useMemo(()=>u==="active"?0:i.length,[u,i.length]);return t?e.jsx(Ce,{size:"lg",py:"xl",children:e.jsxs($,{justify:"center",mt:"xl",children:[e.jsx(Ts,{}),e.jsx(S,{children:"Loading alerts…"})]})}):r?e.jsx(Ce,{size:"lg",py:"xl",children:e.jsx(vs,{color:"red",title:"Failed to load data",variant:"light",children:r})}):e.jsx(Ce,{size:"xl",py:"lg",children:e.jsxs(W,{gap:"lg",children:[e.jsx(Q,{withBorder:!0,padding:"md",radius:"md",children:e.jsxs(W,{gap:"sm",children:[e.jsxs($,{justify:"space-between",align:"center",children:[e.jsxs("div",{children:[e.jsx($,{gap:"xs",align:"center",children:e.jsx(de,{order:2,children:"Alarms Center"})}),e.jsx($,{gap:6,align:"center",children:e.jsx(S,{c:"dimmed",children:"Focused hub for alarms across all KSI families"})})]}),e.jsx($,{gap:"xs",children:e.jsx(ge,{label:`${k} alarms`,color:"red",size:"md",icon:e.jsx(xe,{size:14})})})]}),e.jsxs(ke,{cols:{base:2,sm:4},spacing:"sm",children:[e.jsx(Q,{withBorder:!0,padding:"sm",radius:"md",children:e.jsxs(W,{gap:2,align:"flex-start",children:[e.jsx(S,{size:"xs",c:"dimmed",children:"Alarms"}),e.jsxs($,{gap:6,children:[e.jsx(qe,{color:"red",variant:"light",size:"sm",children:e.jsx(xe,{size:14})}),e.jsx(de,{order:4,children:k})]})]})}),e.jsx(Q,{withBorder:!0,padding:"sm",radius:"md",children:e.jsxs(W,{gap:2,align:"flex-start",children:[e.jsx(S,{size:"xs",c:"dimmed",children:"Affected KSI families"}),e.jsx(de,{order:4,children:E})]})}),e.jsx(Q,{withBorder:!0,padding:"sm",radius:"md",children:e.jsxs(W,{gap:2,align:"flex-start",children:[e.jsx(S,{size:"xs",c:"dimmed",children:"Visible alarms"}),e.jsx(de,{order:4,children:y.length})]})})]})]})}),e.jsxs(Q,{withBorder:!0,padding:"md",radius:"md",children:[e.jsxs(W,{gap:"sm",children:[e.jsxs($,{justify:"space-between",align:"flex-end",wrap:"wrap",children:[e.jsx(Se,{label:"Search",placeholder:"Search title or KSI family…",leftSection:e.jsx(Je,{size:14}),value:h,onChange:d=>x(d.currentTarget.value),onKeyDown:d=>{d.key==="Escape"&&x("")},rightSection:h?e.jsx(He,{size:"sm",variant:"subtle",onClick:()=>x(""),children:e.jsx(Ie,{size:14})}):void 0,style:{flex:1,minWidth:260,maxWidth:520}}),e.jsxs($,{gap:"xs",children:[e.jsx(Y,{variant:"light",leftSection:e.jsx(Qe,{size:16}),onClick:()=>{const d=y.map(_=>({id:_.id,title:_.title,controlId:_.controlId,category:_.category,categoryId:_.categoryId,alarms:_.alarmResults})),C=new Blob([JSON.stringify(d,null,2)],{type:"application/json"}),b=URL.createObjectURL(C),f=document.createElement("a");f.href=b,f.download="alerts-export.json",document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(b)},children:"Export"}),u!=="dismissed"&&e.jsx(Be,{label:"No alerts to dismiss",disabled:V>0,children:e.jsx(Y,{variant:"subtle",disabled:V===0,onClick:()=>{const d=u==="all"?y.filter(f=>!i.includes(f.id)):y,C=d.length;C<=0||!window.confirm(`Dismiss ${C} visible alert${C===1?"":"s"}?`)||d.forEach(f=>j(f.id))},children:"Dismiss All"})}),u!=="active"&&e.jsx(Be,{label:"No alerts to restore",disabled:U>0,children:e.jsx(Y,{variant:"subtle",disabled:U===0,onClick:()=>{const d=i.length;d<=0||!window.confirm(`Restore all dismissed alerts (${d})?`)||g()},children:"Restore All"})})]})]}),e.jsxs(ke,{cols:{base:1,sm:2,md:3,lg:5},spacing:"sm",children:[e.jsxs(M,{children:[e.jsx(S,{size:"xs",c:"dimmed",mb:4,children:"KSI Family"}),e.jsx(es,{value:c,onChange:d=>o(C=>{const b=new URLSearchParams(C);return d?b.set("category",d):b.delete("category"),b},{preventScrollReset:!0}),data:R,w:"100%"})]}),e.jsxs(M,{children:[e.jsx(S,{size:"xs",c:"dimmed",mb:4,children:"Show"}),e.jsx(Ve,{value:u,onChange:d=>o(C=>{const b=new URLSearchParams(C);return d?b.set("show",d):b.delete("show"),b},{preventScrollReset:!0}),data:[{label:"Active",value:"active"},{label:"Dismissed",value:"dismissed"},{label:"All",value:"all"}]})]}),e.jsxs(M,{children:[e.jsx(S,{size:"xs",c:"dimmed",mb:4,children:"View"}),e.jsx(Ve,{value:v,onChange:d=>o(C=>{const b=new URLSearchParams(C);return d?b.set("view",d):b.delete("view"),b},{preventScrollReset:!0}),data:[{label:"List",value:"list"},{label:"Table",value:"table"}]})]})]})]}),z.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(Ze,{my:"sm"}),e.jsx($,{gap:"xs",wrap:"wrap",children:e.jsx(Pt,{items:z.map(d=>({id:d.id,label:d.title,count:d.count})),onSelect:d=>o(C=>{const b=new URLSearchParams(C);return b.set("category",d),b},{preventScrollReset:!0})})})]})]}),v==="table"?e.jsx(Q,{withBorder:!0,padding:"md",radius:"md",children:e.jsx(zt,{data:y.map(d=>({title:d.title,category:d.category,controlId:d.controlId,alarms:d.alarmResults.length})),columns:[{key:"title",label:"Title",sortable:!0,width:"40%"},{key:"category",label:"KSI Family",sortable:!0,width:"25%"},{key:"controlId",label:"Control ID",sortable:!0,width:"15%",render:d=>e.jsx(ne,{style:{fontSize:"var(--mantine-font-size-sm)"},children:d})},{key:"alarms",label:"Alarms",sortable:!0,width:90}],pagination:!0,pageSize:10,emptyText:F||"No alerts match the selected filters"})}):e.jsxs(W,{gap:"md",children:[y.length===0&&e.jsx(Q,{withBorder:!0,padding:"md",radius:"md",children:e.jsx(S,{c:"dimmed",ta:"center",children:F||"No alerts match the selected filters."})}),y.map((d,C)=>e.jsx(Rt,{id:d.id,title:d.title,controlId:d.controlId,category:d.category,alarmResults:d.alarmResults,errorResults:[],onDismiss:b=>j(b),onAction:()=>{d.categoryId&&l(`/dashboard/${d.categoryId}?control=${encodeURIComponent(d.controlId)}`)}},`${d.id}-${d.controlId}-${C}`))]})]})})});export{Et as default,Dt as meta};
